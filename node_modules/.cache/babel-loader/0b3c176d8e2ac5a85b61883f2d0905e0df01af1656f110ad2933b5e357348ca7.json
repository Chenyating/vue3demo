{"ast":null,"code":"import { defineStore, pinia } from 'pinia';\n\n// 创建 Pinia Store\nexport const cubeCacheStore = defineStore({\n  id: 'cubeCache',\n  state: () => ({\n    cacheData: {}\n  }),\n  getters: {\n    getAllCache: state => state.cacheData,\n    getCacheByKey: state => key => state.cacheData[key]\n  },\n  actions: {\n    getCacheKey() {\n      // 生成唯一缓存 key\n      return Date.now().toString(36).substring(2);\n      ;\n    },\n    setCache(cacheKey, cacheInfo, time = 0) {\n      // 设置缓存\n      if (!this.cacheData[cacheKey]) {\n        this.cacheData[cacheKey] = {};\n      }\n      const version = Object.keys(this.cacheData[cacheKey]).length;\n      this.cacheData[cacheKey][`version${version}`] = cacheInfo;\n      if (time > 0) {\n        // 自动保存间隔\n        const saveInterval = setInterval(() => {\n          const latestVersion = this.cacheData[cacheKey][`version${version}`];\n          if (!latestVersion || JSON.stringify(latestVersion) !== JSON.stringify(cacheInfo)) {\n            this.setCache(cacheKey, cacheInfo, 0);\n          }\n        }, time);\n      }\n    },\n    cancelAutoSave(cacheKey) {\n      // 取消时间自动缓存\n      // 可以通过清除 setInterval 来取消自动保存\n    },\n    clearCache(cacheKey) {\n      // 清空指定缓存\n      if (this.cacheData[cacheKey]) {\n        delete this.cacheData[cacheKey];\n        return true;\n      }\n      return false;\n    },\n    clearAllCache() {\n      // 清空所有缓存\n      this.cacheData = {};\n    }\n  }\n});","map":{"version":3,"names":["defineStore","pinia","cubeCacheStore","id","state","cacheData","getters","getAllCache","getCacheByKey","key","actions","getCacheKey","Date","now","toString","substring","setCache","cacheKey","cacheInfo","time","version","Object","keys","length","saveInterval","setInterval","latestVersion","JSON","stringify","cancelAutoSave","clearCache","clearAllCache"],"sources":["/Users/myproject/vuedemo/src/store/index.js"],"sourcesContent":["import { defineStore, pinia } from 'pinia';\n\n// 创建 Pinia Store\nexport const cubeCacheStore = defineStore({\n  id: 'cubeCache',\n  state: () => ({\n    cacheData: {},\n  }),\n  getters: {\n    getAllCache: (state) => state.cacheData,\n    getCacheByKey: (state) => (key) => state.cacheData[key],\n  },\n  actions: {\n    getCacheKey() {\n      // 生成唯一缓存 key\n      return Date.now().toString(36).substring(2);;\n    },\n    setCache(cacheKey, cacheInfo, time = 0) {\n      // 设置缓存\n      if (!this.cacheData[cacheKey]) {\n        this.cacheData[cacheKey] = {};\n      }\n      const version = Object.keys(this.cacheData[cacheKey]).length;\n      this.cacheData[cacheKey][`version${version}`] = cacheInfo;\n      if (time > 0) {\n        // 自动保存间隔\n        const saveInterval = setInterval(() => {\n          const latestVersion = this.cacheData[cacheKey][`version${version}`];\n          if (!latestVersion || JSON.stringify(latestVersion) !== JSON.stringify(cacheInfo)) {\n            this.setCache(cacheKey, cacheInfo, 0);\n          }\n        }, time);\n      }\n    },\n    cancelAutoSave(cacheKey) {\n      // 取消时间自动缓存\n      // 可以通过清除 setInterval 来取消自动保存\n    },\n    clearCache(cacheKey) {\n      // 清空指定缓存\n      if (this.cacheData[cacheKey]) {\n        delete this.cacheData[cacheKey];\n        return true;\n      }\n      return false;\n    },\n    clearAllCache() {\n      // 清空所有缓存\n      this.cacheData = {};\n    },\n  },\n});\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,KAAK,QAAQ,OAAO;;AAE1C;AACA,OAAO,MAAMC,cAAc,GAAGF,WAAW,CAAC;EACxCG,EAAE,EAAE,WAAW;EACfC,KAAK,EAAEA,CAAA,MAAO;IACZC,SAAS,EAAE,CAAC;EACd,CAAC,CAAC;EACFC,OAAO,EAAE;IACPC,WAAW,EAAGH,KAAK,IAAKA,KAAK,CAACC,SAAS;IACvCG,aAAa,EAAGJ,KAAK,IAAMK,GAAG,IAAKL,KAAK,CAACC,SAAS,CAACI,GAAG;EACxD,CAAC;EACDC,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ;MACA,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC;MAAC;IAC9C,CAAC;IACDC,QAAQA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,IAAI,GAAG,CAAC,EAAE;MACtC;MACA,IAAI,CAAC,IAAI,CAACd,SAAS,CAACY,QAAQ,CAAC,EAAE;QAC7B,IAAI,CAACZ,SAAS,CAACY,QAAQ,CAAC,GAAG,CAAC,CAAC;MAC/B;MACA,MAAMG,OAAO,GAAGC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACjB,SAAS,CAACY,QAAQ,CAAC,CAAC,CAACM,MAAM;MAC5D,IAAI,CAAClB,SAAS,CAACY,QAAQ,CAAC,CAAE,UAASG,OAAQ,EAAC,CAAC,GAAGF,SAAS;MACzD,IAAIC,IAAI,GAAG,CAAC,EAAE;QACZ;QACA,MAAMK,YAAY,GAAGC,WAAW,CAAC,MAAM;UACrC,MAAMC,aAAa,GAAG,IAAI,CAACrB,SAAS,CAACY,QAAQ,CAAC,CAAE,UAASG,OAAQ,EAAC,CAAC;UACnE,IAAI,CAACM,aAAa,IAAIC,IAAI,CAACC,SAAS,CAACF,aAAa,CAAC,KAAKC,IAAI,CAACC,SAAS,CAACV,SAAS,CAAC,EAAE;YACjF,IAAI,CAACF,QAAQ,CAACC,QAAQ,EAAEC,SAAS,EAAE,CAAC,CAAC;UACvC;QACF,CAAC,EAAEC,IAAI,CAAC;MACV;IACF,CAAC;IACDU,cAAcA,CAACZ,QAAQ,EAAE;MACvB;MACA;IAAA,CACD;IACDa,UAAUA,CAACb,QAAQ,EAAE;MACnB;MACA,IAAI,IAAI,CAACZ,SAAS,CAACY,QAAQ,CAAC,EAAE;QAC5B,OAAO,IAAI,CAACZ,SAAS,CAACY,QAAQ,CAAC;QAC/B,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC;IACDc,aAAaA,CAAA,EAAG;MACd;MACA,IAAI,CAAC1B,SAAS,GAAG,CAAC,CAAC;IACrB;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}