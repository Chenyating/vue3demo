{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { cubeCacheStore } from './store/index.js';\nexport default {\n  data() {\n    return {\n      editableTabsValue: '2',\n      editableTabs: [{\n        title: 'Tab 1',\n        name: '1',\n        content: 'Tab 1 content'\n      }, {\n        title: 'Tab 2',\n        name: '2',\n        content: 'Tab 2 content'\n      }],\n      tabIndex: 2\n    };\n  },\n  methods: {\n    handleTabsEdit(targetName, action) {\n      if (action === 'add') {\n        let newTabName = ++this.tabIndex + '';\n        this.editableTabs.push({\n          title: 'New Tab',\n          name: newTabName,\n          content: 'New Tab content'\n        });\n        this.editableTabsValue = newTabName;\n      }\n      if (action === 'remove') {\n        let tabs = this.editableTabs;\n        let activeName = this.editableTabsValue;\n        if (activeName === targetName) {\n          tabs.forEach((tab, index) => {\n            if (tab.name === targetName) {\n              let nextTab = tabs[index + 1] || tabs[index - 1];\n              if (nextTab) {\n                activeName = nextTab.name;\n              }\n            }\n          });\n        }\n        this.editableTabsValue = activeName;\n        this.editableTabs = tabs.filter(tab => tab.name !== targetName);\n      }\n    }\n  }\n};","map":{"version":3,"names":["cubeCacheStore","data","editableTabsValue","editableTabs","title","name","content","tabIndex","methods","handleTabsEdit","targetName","action","newTabName","push","tabs","activeName","forEach","tab","index","nextTab","filter"],"sources":["src/App.vue"],"sourcesContent":["<!-- <template>\n  <div id=\"app\">\n    <el-tabs editable >\n      <el-tab-pane\n        v-for=\"cacheKey in cacheKeyArray\"\n        :key=\"cacheKey\"\n        :to=\"`/edit?cacheKey=${cacheKey}`\"\n        :label=\"cacheKey\"\n        name=\"edit\"\n      >\n        <router-view />\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport { cubeCacheStore } from './store/index.js'\nexport default {\n  data() {\n    return {\n      cubeCache: cubeCacheStore(),\n      cacheKeyArray: [],\n    }\n  },\n  methods: {\n    goEdit() {\n      var cacheKey = this.cubeCache.getCacheKey()\n      this.$router.push({ path: '/edit', query: { cacheKey: cacheKey } })\n      this.cacheKeyArray.push(cacheKey)\n    },\n  },\n}\n</script> -->\n<template>\n  <div id=\"app\">\n<el-tabs v-model=\"editableTabsValue\" type=\"card\" editable @edit=\"handleTabsEdit\">\n  <el-tab-pane\n    :key=\"item.name\"\n    v-for=\"(item, index) in editableTabs\"\n    :label=\"item.title\"\n    :name=\"item.name\"\n  >\n    {{item.content}}\n  </el-tab-pane>\n</el-tabs>\n</div>\n</template>\n<script>\nimport { cubeCacheStore } from './store/index.js'\n\n  export default {\n    data() {\n      return {\n        editableTabsValue: '2',\n        editableTabs: [{\n          title: 'Tab 1',\n          name: '1',\n          content: 'Tab 1 content'\n        }, {\n          title: 'Tab 2',\n          name: '2',\n          content: 'Tab 2 content'\n        }],\n        tabIndex: 2\n      }\n    },\n    methods: {\n      handleTabsEdit(targetName, action) {\n        if (action === 'add') {\n          let newTabName = ++this.tabIndex + '';\n          this.editableTabs.push({\n            title: 'New Tab',\n            name: newTabName,\n            content: 'New Tab content'\n          });\n          this.editableTabsValue = newTabName;\n        }\n        if (action === 'remove') {\n          let tabs = this.editableTabs;\n          let activeName = this.editableTabsValue;\n          if (activeName === targetName) {\n            tabs.forEach((tab, index) => {\n              if (tab.name === targetName) {\n                let nextTab = tabs[index + 1] || tabs[index - 1];\n                if (nextTab) {\n                  activeName = nextTab.name;\n                }\n              }\n            });\n          }\n          \n          this.editableTabsValue = activeName;\n          this.editableTabs = tabs.filter(tab => tab.name !== targetName);\n        }\n      }\n    }\n  }\n</script>"],"mappings":";AAiDA,SAAAA,cAAA;AAEA;EACAC,KAAA;IACA;MACAC,iBAAA;MACAC,YAAA;QACAC,KAAA;QACAC,IAAA;QACAC,OAAA;MACA;QACAF,KAAA;QACAC,IAAA;QACAC,OAAA;MACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAAC,UAAA,EAAAC,MAAA;MACA,IAAAA,MAAA;QACA,IAAAC,UAAA,UAAAL,QAAA;QACA,KAAAJ,YAAA,CAAAU,IAAA;UACAT,KAAA;UACAC,IAAA,EAAAO,UAAA;UACAN,OAAA;QACA;QACA,KAAAJ,iBAAA,GAAAU,UAAA;MACA;MACA,IAAAD,MAAA;QACA,IAAAG,IAAA,QAAAX,YAAA;QACA,IAAAY,UAAA,QAAAb,iBAAA;QACA,IAAAa,UAAA,KAAAL,UAAA;UACAI,IAAA,CAAAE,OAAA,EAAAC,GAAA,EAAAC,KAAA;YACA,IAAAD,GAAA,CAAAZ,IAAA,KAAAK,UAAA;cACA,IAAAS,OAAA,GAAAL,IAAA,CAAAI,KAAA,SAAAJ,IAAA,CAAAI,KAAA;cACA,IAAAC,OAAA;gBACAJ,UAAA,GAAAI,OAAA,CAAAd,IAAA;cACA;YACA;UACA;QACA;QAEA,KAAAH,iBAAA,GAAAa,UAAA;QACA,KAAAZ,YAAA,GAAAW,IAAA,CAAAM,MAAA,CAAAH,GAAA,IAAAA,GAAA,CAAAZ,IAAA,KAAAK,UAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}