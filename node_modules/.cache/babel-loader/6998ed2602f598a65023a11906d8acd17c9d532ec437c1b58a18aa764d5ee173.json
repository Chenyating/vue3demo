{"ast":null,"code":"function addClass(el, className) {\n  el.classList.toggle(className);\n}\nfunction removeClass(el, className) {\n  el.classList.toggle(className);\n}\nfunction Transition() {\n  return {\n    beforeEnter: el => {\n      addClass(el, 'card-transition');\n      if (!el.dataset) el.dataset = {};\n      el.dataset.oldPaddingTop = el.style.paddingTop;\n      el.dataset.oldPaddingBottom = el.style.paddingBottom;\n      el.style.height = '0';\n      el.style.paddingTop = 0;\n      el.style.paddingBottom = 0;\n    },\n    enter: el => {\n      el.dataset.oldOverflow = el.style.overflow;\n      if (el.scrollHeight !== 0) {\n        el.style.height = `${el.scrollHeight}px`;\n        el.style.paddingTop = el.dataset.oldPaddingTop;\n        el.style.paddingBottom = el.dataset.oldPaddingBottom;\n      } else {\n        el.style.height = '';\n        el.style.paddingTop = el.dataset.oldPaddingTop;\n        el.style.paddingBottom = el.dataset.oldPaddingBottom;\n      }\n      el.style.overflow = 'hidden';\n    },\n    afterEnter: el => {\n      // for safari: remove class then reset height is necessary\n      removeClass(el, 'card-transition');\n      el.style.height = '';\n      el.style.overflow = el.dataset.oldOverflow;\n    },\n    beforeLeave: el => {\n      if (!el.dataset) el.dataset = {};\n      el.dataset.oldPaddingTop = el.style.paddingTop;\n      el.dataset.oldPaddingBottom = el.style.paddingBottom;\n      el.dataset.oldOverflow = el.style.overflow;\n      el.style.height = `${el.scrollHeight}px`;\n      el.style.overflow = 'hidden';\n    },\n    leave: el => {\n      if (el.scrollHeight !== 0) {\n        // for safari: add class after set height, or it will jump to zero height suddenly, weired\n        addClass(el, 'card-transition');\n        el.style.height = 0;\n        el.style.paddingTop = 0;\n        el.style.paddingBottom = 0;\n      }\n    },\n    afterLeave: el => {\n      removeClass(el, 'card-transition');\n      el.style.height = '';\n      el.style.overflow = el.dataset.oldOverflow;\n      el.style.paddingTop = el.dataset.oldPaddingTop;\n      el.style.paddingBottom = el.dataset.oldPaddingBottom;\n    }\n  };\n}\nexport default {\n  name: 'CardTransition',\n  functional: true,\n  render(h, {\n    children\n  }) {\n    const res = Transition();\n    const data = {\n      on: res\n    };\n    return h('transition', data, children);\n  }\n};","map":{"version":3,"names":["addClass","el","className","classList","toggle","removeClass","Transition","beforeEnter","dataset","oldPaddingTop","style","paddingTop","oldPaddingBottom","paddingBottom","height","enter","oldOverflow","overflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave","name","functional","render","h","children","res","data","on"],"sources":["/Users/myproject/vuedemo/node_modules/@cndinfo/cube-design-web/src/components/Card/src/transition.js"],"sourcesContent":["function addClass(el, className) {\n  el.classList.toggle(className)\n}\nfunction removeClass(el, className) {\n  el.classList.toggle(className)\n}\nfunction Transition() {\n  return {\n    beforeEnter: (el) => {\n      addClass(el, 'card-transition')\n      if (!el.dataset) el.dataset = {}\n\n      el.dataset.oldPaddingTop = el.style.paddingTop\n      el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n      el.style.height = '0'\n      el.style.paddingTop = 0\n      el.style.paddingBottom = 0\n    },\n\n    enter: (el) => {\n      el.dataset.oldOverflow = el.style.overflow\n      if (el.scrollHeight !== 0) {\n        el.style.height = `${el.scrollHeight}px`\n        el.style.paddingTop = el.dataset.oldPaddingTop\n        el.style.paddingBottom = el.dataset.oldPaddingBottom\n      } else {\n        el.style.height = ''\n        el.style.paddingTop = el.dataset.oldPaddingTop\n        el.style.paddingBottom = el.dataset.oldPaddingBottom\n      }\n\n      el.style.overflow = 'hidden'\n    },\n\n    afterEnter: (el) => {\n      // for safari: remove class then reset height is necessary\n      removeClass(el, 'card-transition')\n      el.style.height = ''\n      el.style.overflow = el.dataset.oldOverflow\n    },\n\n    beforeLeave: (el) => {\n      if (!el.dataset) el.dataset = {}\n      el.dataset.oldPaddingTop = el.style.paddingTop\n      el.dataset.oldPaddingBottom = el.style.paddingBottom\n      el.dataset.oldOverflow = el.style.overflow\n\n      el.style.height = `${el.scrollHeight}px`\n      el.style.overflow = 'hidden'\n    },\n\n    leave: (el) => {\n      if (el.scrollHeight !== 0) {\n        // for safari: add class after set height, or it will jump to zero height suddenly, weired\n        addClass(el, 'card-transition')\n        el.style.height = 0\n        el.style.paddingTop = 0\n        el.style.paddingBottom = 0\n      }\n    },\n\n    afterLeave: (el) => {\n      removeClass(el, 'card-transition')\n      el.style.height = ''\n      el.style.overflow = el.dataset.oldOverflow\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n    }\n  }\n}\n\nexport default {\n  name: 'CardTransition',\n  functional: true,\n  render(h, { children }) {\n    const res = Transition()\n    const data = {\n      on: res\n    }\n    return h('transition', data, children)\n  }\n}\n"],"mappings":"AAAA,SAASA,QAAQA,CAACC,EAAE,EAAEC,SAAS,EAAE;EAC/BD,EAAE,CAACE,SAAS,CAACC,MAAM,CAACF,SAAS,CAAC;AAChC;AACA,SAASG,WAAWA,CAACJ,EAAE,EAAEC,SAAS,EAAE;EAClCD,EAAE,CAACE,SAAS,CAACC,MAAM,CAACF,SAAS,CAAC;AAChC;AACA,SAASI,UAAUA,CAAA,EAAG;EACpB,OAAO;IACLC,WAAW,EAAGN,EAAE,IAAK;MACnBD,QAAQ,CAACC,EAAE,EAAE,iBAAiB,CAAC;MAC/B,IAAI,CAACA,EAAE,CAACO,OAAO,EAAEP,EAAE,CAACO,OAAO,GAAG,CAAC,CAAC;MAEhCP,EAAE,CAACO,OAAO,CAACC,aAAa,GAAGR,EAAE,CAACS,KAAK,CAACC,UAAU;MAC9CV,EAAE,CAACO,OAAO,CAACI,gBAAgB,GAAGX,EAAE,CAACS,KAAK,CAACG,aAAa;MAEpDZ,EAAE,CAACS,KAAK,CAACI,MAAM,GAAG,GAAG;MACrBb,EAAE,CAACS,KAAK,CAACC,UAAU,GAAG,CAAC;MACvBV,EAAE,CAACS,KAAK,CAACG,aAAa,GAAG,CAAC;IAC5B,CAAC;IAEDE,KAAK,EAAGd,EAAE,IAAK;MACbA,EAAE,CAACO,OAAO,CAACQ,WAAW,GAAGf,EAAE,CAACS,KAAK,CAACO,QAAQ;MAC1C,IAAIhB,EAAE,CAACiB,YAAY,KAAK,CAAC,EAAE;QACzBjB,EAAE,CAACS,KAAK,CAACI,MAAM,GAAI,GAAEb,EAAE,CAACiB,YAAa,IAAG;QACxCjB,EAAE,CAACS,KAAK,CAACC,UAAU,GAAGV,EAAE,CAACO,OAAO,CAACC,aAAa;QAC9CR,EAAE,CAACS,KAAK,CAACG,aAAa,GAAGZ,EAAE,CAACO,OAAO,CAACI,gBAAgB;MACtD,CAAC,MAAM;QACLX,EAAE,CAACS,KAAK,CAACI,MAAM,GAAG,EAAE;QACpBb,EAAE,CAACS,KAAK,CAACC,UAAU,GAAGV,EAAE,CAACO,OAAO,CAACC,aAAa;QAC9CR,EAAE,CAACS,KAAK,CAACG,aAAa,GAAGZ,EAAE,CAACO,OAAO,CAACI,gBAAgB;MACtD;MAEAX,EAAE,CAACS,KAAK,CAACO,QAAQ,GAAG,QAAQ;IAC9B,CAAC;IAEDE,UAAU,EAAGlB,EAAE,IAAK;MAClB;MACAI,WAAW,CAACJ,EAAE,EAAE,iBAAiB,CAAC;MAClCA,EAAE,CAACS,KAAK,CAACI,MAAM,GAAG,EAAE;MACpBb,EAAE,CAACS,KAAK,CAACO,QAAQ,GAAGhB,EAAE,CAACO,OAAO,CAACQ,WAAW;IAC5C,CAAC;IAEDI,WAAW,EAAGnB,EAAE,IAAK;MACnB,IAAI,CAACA,EAAE,CAACO,OAAO,EAAEP,EAAE,CAACO,OAAO,GAAG,CAAC,CAAC;MAChCP,EAAE,CAACO,OAAO,CAACC,aAAa,GAAGR,EAAE,CAACS,KAAK,CAACC,UAAU;MAC9CV,EAAE,CAACO,OAAO,CAACI,gBAAgB,GAAGX,EAAE,CAACS,KAAK,CAACG,aAAa;MACpDZ,EAAE,CAACO,OAAO,CAACQ,WAAW,GAAGf,EAAE,CAACS,KAAK,CAACO,QAAQ;MAE1ChB,EAAE,CAACS,KAAK,CAACI,MAAM,GAAI,GAAEb,EAAE,CAACiB,YAAa,IAAG;MACxCjB,EAAE,CAACS,KAAK,CAACO,QAAQ,GAAG,QAAQ;IAC9B,CAAC;IAEDI,KAAK,EAAGpB,EAAE,IAAK;MACb,IAAIA,EAAE,CAACiB,YAAY,KAAK,CAAC,EAAE;QACzB;QACAlB,QAAQ,CAACC,EAAE,EAAE,iBAAiB,CAAC;QAC/BA,EAAE,CAACS,KAAK,CAACI,MAAM,GAAG,CAAC;QACnBb,EAAE,CAACS,KAAK,CAACC,UAAU,GAAG,CAAC;QACvBV,EAAE,CAACS,KAAK,CAACG,aAAa,GAAG,CAAC;MAC5B;IACF,CAAC;IAEDS,UAAU,EAAGrB,EAAE,IAAK;MAClBI,WAAW,CAACJ,EAAE,EAAE,iBAAiB,CAAC;MAClCA,EAAE,CAACS,KAAK,CAACI,MAAM,GAAG,EAAE;MACpBb,EAAE,CAACS,KAAK,CAACO,QAAQ,GAAGhB,EAAE,CAACO,OAAO,CAACQ,WAAW;MAC1Cf,EAAE,CAACS,KAAK,CAACC,UAAU,GAAGV,EAAE,CAACO,OAAO,CAACC,aAAa;MAC9CR,EAAE,CAACS,KAAK,CAACG,aAAa,GAAGZ,EAAE,CAACO,OAAO,CAACI,gBAAgB;IACtD;EACF,CAAC;AACH;AAEA,eAAe;EACbW,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE,IAAI;EAChBC,MAAMA,CAACC,CAAC,EAAE;IAAEC;EAAS,CAAC,EAAE;IACtB,MAAMC,GAAG,GAAGtB,UAAU,CAAC,CAAC;IACxB,MAAMuB,IAAI,GAAG;MACXC,EAAE,EAAEF;IACN,CAAC;IACD,OAAOF,CAAC,CAAC,YAAY,EAAEG,IAAI,EAAEF,QAAQ,CAAC;EACxC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}