{"ast":null,"code":"import localPagination from '../../Pagination/index.js';\nimport localOption from './option';\nimport { Input } from 'element-ui';\nexport default {\n  components: {\n    localPagination,\n    localOption,\n    ElInput: Input\n  },\n  props: {\n    // 自定义下拉项 props\n    getSelectOptionProps: {\n      type: Function\n    },\n    // 分页数据\n    pagination: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    // 后端接口页码是否 0 开始\n    hasZeroPagination: {\n      type: Boolean,\n      default: true\n    },\n    // 下拉框数据\n    options: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    // 搜索值\n    query: {\n      type: String,\n      default: ''\n    },\n    // 是否绑定的是对象\n    isBindObject: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      curPage: 1\n    };\n  },\n  computed: {\n    options_() {\n      return this.options.map(v => {\n        const _label = v._label || v.label;\n        return {\n          ...v,\n          _label,\n          _value: v._value || v.value,\n          _selectedLabel: v._selectedLabel || v.selectedLabel || v._label || _label\n        };\n      });\n    },\n    getContent_() {\n      const startTag = `<span class=\"ag-cell-blue\">`;\n      const endTag = `</span>`;\n      const value = this.query;\n      return item => {\n        const contentText = this.getSelectOptionProps?.(item)?.label ?? item._label;\n        if (!this.query) {\n          return contentText;\n        }\n        const hightLightText = startTag + value + endTag;\n        const contentEl = value ? contentText.replaceAll(value, hightLightText) : contentText;\n        return `<span>${contentEl}</span>`;\n      };\n    },\n    // value 绑定的值\n    value_() {\n      return item => {\n        return this.isBindObject ? item : item._value;\n      };\n    }\n  },\n  watch: {\n    curPage(nv, ov) {\n      // eslint-disable-next-line vue/no-mutating-props\n      this.pagination.pageNo = this.hasZeroPagination ? nv - 1 : nv;\n    },\n    'pagination.pageNo'(nv, ov) {\n      this.curPage = this.hasZeroPagination ? nv + 1 : nv;\n    }\n  },\n  mounted() {},\n  methods: {\n    getOptionProps(record) {\n      return {\n        label: record._selectedLabel,\n        value: this.value_(record),\n        ...this.getSelectOptionProps?.(record)\n      };\n    },\n    inputAction(val) {\n      this.$emit('inputAction', val);\n    },\n    // 跳转分页\n    jumpPage() {\n      this.$emit('jumpPage');\n    },\n    // 切换分页数据\n    pageChange(obj) {\n      this.curPage = this.hasZeroPagination ? obj.page + 1 : obj.page;\n      this.$emit('pageChange', obj);\n    }\n  }\n};","map":{"version":3,"names":["localPagination","localOption","Input","components","ElInput","props","getSelectOptionProps","type","Function","pagination","Object","default","hasZeroPagination","Boolean","options","Array","valueKey","String","query","isBindObject","data","curPage","computed","options_","map","v","_label","label","_value","value","_selectedLabel","selectedLabel","getContent_","startTag","endTag","item","contentText","hightLightText","contentEl","replaceAll","value_","watch","nv","ov","pageNo","pagination.pageNo","mounted","methods","getOptionProps","record","inputAction","val","$emit","jumpPage","pageChange","obj","page"],"sources":["node_modules/@cndinfo/cube-design-web/src/components/Select/src/select-default.vue"],"sourcesContent":["<template>\n  <div>\n    <ul :style=\"pagination.totalPages > 1 ? 'margin-bottom: 38px' : ''\">\n      <local-option\n        v-for=\"(item, index) in options_\"\n        :key=\"`${item[valueKey]}_${index}`\"\n        v-bind=\"getOptionProps(item)\"\n      >\n        <span v-html=\"getContent_(item)\" />\n      </local-option>\n    </ul>\n\n    <local-pagination\n      v-if=\"pagination.totalPages > 1\"\n      fixed\n      :total=\"pagination.total\"\n      :page=\"pagination.pageNo\"\n      :limit=\"pagination.pageSize\"\n      :event=\"pageChange\"\n      :hide-on-single-page=\"true\"\n      layout=\"prev,slot,next\"\n      class=\"position-pagination\"\n      :has-zero-pagination=\"hasZeroPagination\"\n      @click.stop\n    >\n      <span class=\"flexCC\">\n        <el-input\n          v-model=\"curPage\"\n          style=\"width: 26px\"\n          @input=\"inputAction\"\n          @blur=\"jumpPage\"\n          @keyup.native.stop.enter=\"jumpPage\"\n        />\n        <span class=\"height-style_\">/</span>\n        <span class=\"height-style\">{{ pagination.totalPages }}</span>\n      </span>\n    </local-pagination>\n  </div>\n</template>\n\n<script>\nimport localPagination from '../../Pagination/index.js'\nimport localOption from './option'\nimport { Input } from 'element-ui'\n\nexport default {\n  components: { localPagination, localOption, ElInput: Input },\n  props: {\n    // 自定义下拉项 props\n    getSelectOptionProps: {\n      type: Function\n    },\n    // 分页数据\n    pagination: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    // 后端接口页码是否 0 开始\n    hasZeroPagination: {\n      type: Boolean,\n      default: true\n    },\n    // 下拉框数据\n    options: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    // 搜索值\n    query: {\n      type: String,\n      default: ''\n    },\n    // 是否绑定的是对象\n    isBindObject: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      curPage: 1\n    }\n  },\n  computed: {\n    options_() {\n      return this.options.map((v) => {\n        const _label = v._label || v.label\n        return {\n          ...v,\n          _label,\n          _value: v._value || v.value,\n          _selectedLabel:\n            v._selectedLabel || v.selectedLabel || v._label || _label\n        }\n      })\n    },\n    getContent_() {\n      const startTag = `<span class=\"ag-cell-blue\">`\n      const endTag = `</span>`\n      const value = this.query\n      return (item) => {\n        const contentText = this.getSelectOptionProps?.(item)?.label ?? item._label\n        if (!this.query) {\n          return contentText\n        }\n        const hightLightText = startTag + value + endTag\n        const contentEl = value\n          ? contentText.replaceAll(value, hightLightText)\n          : contentText\n        return `<span>${contentEl}</span>`\n      }\n    },\n    // value 绑定的值\n    value_() {\n      return (item) => {\n        return this.isBindObject ? item : item._value\n      }\n    }\n  },\n  watch: {\n    curPage(nv, ov) {\n      // eslint-disable-next-line vue/no-mutating-props\n      this.pagination.pageNo = this.hasZeroPagination ? nv - 1 : nv\n    },\n    'pagination.pageNo'(nv, ov) {\n      this.curPage = this.hasZeroPagination ? nv + 1 : nv\n    }\n  },\n  mounted() {},\n  methods: {\n    getOptionProps(record) {\n      return {\n        label: record._selectedLabel,\n        value: this.value_(record),\n        ...this.getSelectOptionProps?.(record)\n      }\n    },\n    inputAction(val) {\n      this.$emit('inputAction', val)\n    },\n    // 跳转分页\n    jumpPage() {\n      this.$emit('jumpPage')\n    },\n    // 切换分页数据\n    pageChange(obj) {\n      this.curPage = this.hasZeroPagination ? obj.page + 1 : obj.page\n      this.$emit('pageChange', obj)\n    }\n  }\n}\n</script>\n"],"mappings":"AAyCA,OAAAA,eAAA;AACA,OAAAC,WAAA;AACA,SAAAC,KAAA;AAEA;EACAC,UAAA;IAAAH,eAAA;IAAAC,WAAA;IAAAG,OAAA,EAAAF;EAAA;EACAG,KAAA;IACA;IACAC,oBAAA;MACAC,IAAA,EAAAC;IACA;IACA;IACAC,UAAA;MACAF,IAAA,EAAAG,MAAA;MACAC,QAAA;QACA;MACA;IACA;IACA;IACAC,iBAAA;MACAL,IAAA,EAAAM,OAAA;MACAF,OAAA;IACA;IACA;IACAG,OAAA;MACAP,IAAA,EAAAQ,KAAA;MACAJ,QAAA;QACA;MACA;IACA;IACAK,QAAA;MACAT,IAAA,EAAAU,MAAA;MACAN,OAAA;IACA;IACA;IACAO,KAAA;MACAX,IAAA,EAAAU,MAAA;MACAN,OAAA;IACA;IACA;IACAQ,YAAA;MACAZ,IAAA,EAAAM,OAAA;MACAF,OAAA;IACA;EACA;EACAS,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA;MACA,YAAAT,OAAA,CAAAU,GAAA,CAAAC,CAAA;QACA,MAAAC,MAAA,GAAAD,CAAA,CAAAC,MAAA,IAAAD,CAAA,CAAAE,KAAA;QACA;UACA,GAAAF,CAAA;UACAC,MAAA;UACAE,MAAA,EAAAH,CAAA,CAAAG,MAAA,IAAAH,CAAA,CAAAI,KAAA;UACAC,cAAA,EACAL,CAAA,CAAAK,cAAA,IAAAL,CAAA,CAAAM,aAAA,IAAAN,CAAA,CAAAC,MAAA,IAAAA;QACA;MACA;IACA;IACAM,YAAA;MACA,MAAAC,QAAA;MACA,MAAAC,MAAA;MACA,MAAAL,KAAA,QAAAX,KAAA;MACA,OAAAiB,IAAA;QACA,MAAAC,WAAA,QAAA9B,oBAAA,GAAA6B,IAAA,GAAAR,KAAA,IAAAQ,IAAA,CAAAT,MAAA;QACA,UAAAR,KAAA;UACA,OAAAkB,WAAA;QACA;QACA,MAAAC,cAAA,GAAAJ,QAAA,GAAAJ,KAAA,GAAAK,MAAA;QACA,MAAAI,SAAA,GAAAT,KAAA,GACAO,WAAA,CAAAG,UAAA,CAAAV,KAAA,EAAAQ,cAAA,IACAD,WAAA;QACA,gBAAAE,SAAA;MACA;IACA;IACA;IACAE,OAAA;MACA,OAAAL,IAAA;QACA,YAAAhB,YAAA,GAAAgB,IAAA,GAAAA,IAAA,CAAAP,MAAA;MACA;IACA;EACA;EACAa,KAAA;IACApB,QAAAqB,EAAA,EAAAC,EAAA;MACA;MACA,KAAAlC,UAAA,CAAAmC,MAAA,QAAAhC,iBAAA,GAAA8B,EAAA,OAAAA,EAAA;IACA;IACA,mBAAAG,CAAAH,EAAA,EAAAC,EAAA;MACA,KAAAtB,OAAA,QAAAT,iBAAA,GAAA8B,EAAA,OAAAA,EAAA;IACA;EACA;EACAI,QAAA;EACAC,OAAA;IACAC,eAAAC,MAAA;MACA;QACAtB,KAAA,EAAAsB,MAAA,CAAAnB,cAAA;QACAD,KAAA,OAAAW,MAAA,CAAAS,MAAA;QACA,QAAA3C,oBAAA,GAAA2C,MAAA;MACA;IACA;IACAC,YAAAC,GAAA;MACA,KAAAC,KAAA,gBAAAD,GAAA;IACA;IACA;IACAE,SAAA;MACA,KAAAD,KAAA;IACA;IACA;IACAE,WAAAC,GAAA;MACA,KAAAlC,OAAA,QAAAT,iBAAA,GAAA2C,GAAA,CAAAC,IAAA,OAAAD,GAAA,CAAAC,IAAA;MACA,KAAAJ,KAAA,eAAAG,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}