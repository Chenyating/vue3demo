{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  props: {\n    parent: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    type: {\n      type: String,\n      default: ''\n    },\n    defaultSelect: {\n      type: String,\n      default: 'otter-select'\n    }\n  },\n  data() {\n    return {\n      form: {\n        value: ''\n      },\n      option: null\n    };\n  },\n  computed: {\n    config() {\n      return this.parent.config ? this.parent.config : {};\n    },\n    componentName() {\n      return this.config.conponent ? this.config.conponent : this.defaultSelect;\n    }\n  },\n  methods: {\n    change(option) {\n      console.log(option);\n      this.option = option;\n    },\n    clear() {\n      this.$emit('clear', 'search');\n    },\n    reset() {\n      this.form.value = '';\n      this.option = null;\n    },\n    confirm() {\n      if (!this.option) return;\n      let option;\n      if (!this.config.option) {\n        console.log(this.$refs.select);\n        const {\n          label,\n          value\n        } = this.$refs.select.defaultOption;\n        option = {\n          label,\n          value\n        };\n      } else {\n        option = this.config.option;\n      }\n      const {\n        label,\n        value\n      } = option;\n      let tagLabel, tagValue;\n      if (this.config.multiple) {\n        tagLabel = [];\n        tagValue = [];\n        this.option.forEach(item => {\n          tagLabel.push(item[label]);\n          tagValue.push(item[value]);\n        });\n        tagLabel = tagLabel.join(',');\n      } else {\n        tagLabel = this.option[label];\n        tagValue = this.option[value];\n      }\n      // const tagLabel = this.option[label]\n      // const tagValue = this.option[value]\n      this.$emit('confirm', this.parent, {\n        label: tagLabel,\n        value: tagValue\n      }, 'search');\n      // this.form.value = ''\n      // this.option = null\n    }\n  }\n};","map":{"version":3,"names":["props","parent","type","Object","default","String","defaultSelect","data","form","value","option","computed","config","componentName","conponent","methods","change","console","log","clear","$emit","reset","confirm","$refs","select","label","defaultOption","tagLabel","tagValue","multiple","forEach","item","push","join"],"sources":["node_modules/@cndinfo/cube-design-web/src/components/MultiSearch/src/components/search.vue"],"sourcesContent":["<template>\n  <div class=\"multi-search-search flexC mr-8\">\n    <div  v-if=\"config.title\" class=\"option-title mr-6\">\n      {{ config.title }}\n    </div>\n    <component\n    :is=\"componentName\"\n      ref=\"select\"\n      v-model=\"form.value\"\n      class=\"mr-8\"\n      v-bind=\"config\"\n      @change=\"change\"\n      @clear=\"clear\"\n    >\n    </component>\n    <cube-button\n:disabled=\"!option\"\ntype=\"defalut\"\nplain\n@click=\"confirm\"\n      >确定</cube-button\n    >\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    parent: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    type: {\n      type: String,\n      default: ''\n    },\n    defaultSelect: {\n      type: String,\n      default: 'otter-select'\n    }\n  },\n  data() {\n    return {\n      form: {\n        value: ''\n      },\n      option: null\n    }\n  },\n  computed: {\n    config() {\n      return this.parent.config ? this.parent.config : {}\n    },\n    componentName() {\n      return this.config.conponent ? this.config.conponent : this.defaultSelect\n    }\n  },\n  methods: {\n    change(option) {\n      console.log(option)\n      this.option = option\n    },\n    clear() {\n      this.$emit('clear', 'search')\n    },\n    reset() {\n      this.form.value = ''\n      this.option = null\n    },\n    confirm() {\n      if (!this.option) return\n      let option\n      if (!this.config.option) {\n        console.log(this.$refs.select)\n        const { label, value } = this.$refs.select.defaultOption\n        option = { label, value }\n      } else {\n        option = this.config.option\n      }\n      const { label, value } = option\n      let tagLabel, tagValue\n      if (this.config.multiple) {\n        tagLabel = []\n        tagValue = []\n        this.option.forEach(item => {\n          tagLabel.push(item[label])\n          tagValue.push(item[value])\n        })\n        tagLabel = tagLabel.join(',')\n      } else {\n        tagLabel = this.option[label]\n        tagValue = this.option[value]\n      }\n      // const tagLabel = this.option[label]\n      // const tagValue = this.option[value]\n      this.$emit('confirm', this.parent, { label: tagLabel, value: tagValue }, 'search')\n      // this.form.value = ''\n      // this.option = null\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.option-title {\n  font-size: 14px;\n  color: #686f80;\n}\n</style>\n"],"mappings":";AAyBA;EACAA,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACA;MACA;IACA;IACAF,IAAA;MACAA,IAAA,EAAAG,MAAA;MACAD,OAAA;IACA;IACAE,aAAA;MACAJ,IAAA,EAAAG,MAAA;MACAD,OAAA;IACA;EACA;EACAG,KAAA;IACA;MACAC,IAAA;QACAC,KAAA;MACA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACAC,OAAA;MACA,YAAAX,MAAA,CAAAW,MAAA,QAAAX,MAAA,CAAAW,MAAA;IACA;IACAC,cAAA;MACA,YAAAD,MAAA,CAAAE,SAAA,QAAAF,MAAA,CAAAE,SAAA,QAAAR,aAAA;IACA;EACA;EACAS,OAAA;IACAC,OAAAN,MAAA;MACAO,OAAA,CAAAC,GAAA,CAAAR,MAAA;MACA,KAAAA,MAAA,GAAAA,MAAA;IACA;IACAS,MAAA;MACA,KAAAC,KAAA;IACA;IACAC,MAAA;MACA,KAAAb,IAAA,CAAAC,KAAA;MACA,KAAAC,MAAA;IACA;IACAY,QAAA;MACA,UAAAZ,MAAA;MACA,IAAAA,MAAA;MACA,UAAAE,MAAA,CAAAF,MAAA;QACAO,OAAA,CAAAC,GAAA,MAAAK,KAAA,CAAAC,MAAA;QACA;UAAAC,KAAA;UAAAhB;QAAA,SAAAc,KAAA,CAAAC,MAAA,CAAAE,aAAA;QACAhB,MAAA;UAAAe,KAAA;UAAAhB;QAAA;MACA;QACAC,MAAA,QAAAE,MAAA,CAAAF,MAAA;MACA;MACA;QAAAe,KAAA;QAAAhB;MAAA,IAAAC,MAAA;MACA,IAAAiB,QAAA,EAAAC,QAAA;MACA,SAAAhB,MAAA,CAAAiB,QAAA;QACAF,QAAA;QACAC,QAAA;QACA,KAAAlB,MAAA,CAAAoB,OAAA,CAAAC,IAAA;UACAJ,QAAA,CAAAK,IAAA,CAAAD,IAAA,CAAAN,KAAA;UACAG,QAAA,CAAAI,IAAA,CAAAD,IAAA,CAAAtB,KAAA;QACA;QACAkB,QAAA,GAAAA,QAAA,CAAAM,IAAA;MACA;QACAN,QAAA,QAAAjB,MAAA,CAAAe,KAAA;QACAG,QAAA,QAAAlB,MAAA,CAAAD,KAAA;MACA;MACA;MACA;MACA,KAAAW,KAAA,iBAAAnB,MAAA;QAAAwB,KAAA,EAAAE,QAAA;QAAAlB,KAAA,EAAAmB;MAAA;MACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}