{"ast":null,"code":"import $router from \"../common/uni-router\";\nimport { Volcengine } from \"../common\";\nexport default class WebVolcengine extends Volcengine {\n  constructor(params) {\n    if (!params) {\n      params = {};\n    }\n    params.type = 1; // 表示是web 端的SDK\n    super(params);\n    this.routerObject = null;\n    // web的vue-router 对象，默认为空\n    this.isCustomPageviewOpen = false;\n    this.customPageviewOpenParam = null;\n    this.afterEachRouter = null;\n    try {\n      this.routerInfo = UNI_ROUTES.pages;\n      this.tarBar = UNI_ROUTES.tarBar ? UNI_ROUTES.tarBar.list : [];\n      const pages = this.getCurrentPagesArr();\n      this.changeCurrentPage(pages);\n      // 当H5在PC浏览器运行的时候执行\n    } catch (e) {\n      this.routerInfo = [];\n      this.tarBar = [];\n      if (params.routerObject) {\n        const routerObject = params.routerObject;\n        const currentRouterObject = routerObject.history.current;\n        this.handelRouterObject(currentRouterObject);\n        this.routerObject = routerObject;\n      }\n      // pc执行\n    }\n  }\n\n  start() {\n    this.init(this.routerInfo, this.tarBar);\n  }\n  // 监听路由的变化 - 只针对H5\n  listenRouter(param) {\n    let h5Router = null;\n    try {\n      h5Router = UNI_ROUTES;\n    } catch (e) {}\n    if (!h5Router) {\n      // PC端\n      // 注册全局后置钩子\n      if (!this.routerObject) {\n        return;\n      }\n      this.routerObject.afterEach(to => {\n        if (this.isCustomPageviewOpen) {\n          this.afterGetWebPath(to);\n        }\n        const routerInfo = {\n          path: to.path,\n          meta: to.meta,\n          query: to.query,\n          params: to.params\n        };\n        this.setCurrentRouterInfo(routerInfo);\n        this.reportPageView(param, to);\n      });\n    } else {\n      const isEmptyObject = !param || Object.prototype.toString.call(param) !== \"[object Object]\";\n      if (isEmptyObject) {\n        param = {};\n      }\n      $router.onchange = n => {\n        this.reportPageView(param, n);\n      };\n    }\n  }\n  reportPageView(param, n) {\n    try {\n      const lastVisitUrl = this.getCacheVisitUrl();\n      let nowPath = n.fullPath;\n      if (this.routerObject) {\n        nowPath = n.path;\n      }\n      if (lastVisitUrl === nowPath) {\n        return;\n      }\n      this.setCacheVisitUrl(nowPath);\n      const lastPageVisitTime = this.getCacheTime();\n      const nowTime = new Date().getTime();\n      this.setCacheTime(nowTime);\n      if (!this.volcengineProps[nowPath]) {\n        this.updateRouter(this.routerInfo, this.tarBar);\n      }\n      let commonAttr = this.getCommonAttr(nowPath);\n      const durationParam = {\n        custom_page_duration: nowTime - lastPageVisitTime\n      };\n      commonAttr[\"custom_page_url\"] = window.location.href;\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title;\n        commonAttr[\"custom_page_title\"] = htmlTitle;\n      }\n      if (!commonAttr[\"custom_page_url_path\"]) {\n        commonAttr[\"custom_page_url_path\"] = nowPath;\n      }\n      const versionInfo = this.getVersionInfo();\n      let webRouterMeta = {};\n      if (this.routerObject) {\n        const webRouterMetaKeys = Object.keys(n.meta);\n        webRouterMetaKeys.forEach(item => {\n          let volcengineFinalKey = item.replace(/[A-Z]/g, key => `_${key.toLowerCase()}`);\n          webRouterMeta[volcengineFinalKey] = n.meta[item];\n        });\n      }\n      const path = window.location.href;\n      const sourceObject = this.getFromQueryNameContent(path);\n      const finalParam = {\n        ...commonAttr,\n        ...durationParam,\n        ...param,\n        ...versionInfo,\n        ...sourceObject,\n        ...webRouterMeta\n      };\n      window.collectEvent(\"custom_pageview\", finalParam);\n    } catch (e) {\n      // console.log(e)\n    }\n  }\n  // 监听初始进入页面\n  customPageviewOpen(param) {\n    if (this.routerObject) {\n      this.customPageviewOpenParam = param;\n      this.isCustomPageviewOpen = true;\n      return;\n    }\n    if (!param || Object.prototype.toString.call(param) !== \"[object Object]\") {\n      param = {};\n    }\n    try {\n      let currentUrl;\n      const pages = this.getCurrentPagesArr();\n      this.changeCurrentPage(pages);\n      if (this.pages.length > 0) {\n        currentUrl = this.pages[0];\n      } else {\n        //  如果currentPage 为空数组，那就去循环路由数组，是否部分路由是包含于完整路由的\n        const routerArr = this.routerInfo;\n        const nowFullPath = window.location.href;\n        routerArr.forEach(item => {\n          if (nowFullPath.indexOf(item.path) > -1) {\n            currentUrl = \"/\" + item.path;\n          }\n        });\n      }\n      // 如果没有任何匹配的，那就是首页\n      if (!currentUrl) {\n        currentUrl = \"/\" + this.routerInfo[0].path;\n      }\n      this.setCacheVisitUrl(currentUrl);\n      if (!this.volcengineProps[currentUrl]) {\n        this.updateRouter(this.routerInfo, this.tarBar);\n      }\n      let commonAttr = this.getCommonAttr(currentUrl);\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title;\n        commonAttr[\"custom_page_title\"] = htmlTitle;\n      }\n      commonAttr[\"custom_page_url\"] = window.location.href;\n      if (param) {\n        commonAttr = {\n          ...commonAttr,\n          ...param\n        };\n      }\n      window.collectEvent(\"custom_pageview_open\", commonAttr);\n      commonAttr.custom_page_duration = 0; // 先默认写死0\n      window.collectEvent(\"custom_pageview\", commonAttr);\n    } catch (e) {\n      console.log(\"open error\", e);\n    }\n  }\n  afterGetWebPath(router) {\n    try {\n      const meta = router.meta || {};\n      const webRouterMetaKeys = Object.keys(meta);\n      let webRouterMeta = {};\n      webRouterMetaKeys.forEach(item => {\n        let volcengineFinalKey = item.replace(/[A-Z]/g, key => `_${key.toLowerCase()}`);\n        webRouterMeta[volcengineFinalKey] = meta[item];\n      });\n      const path = window.location.href;\n      const sourceObject = this.getFromQueryNameContent(path);\n      const title = meta.pageName || document.title;\n      const data = {\n        custom_page_url_path: router.path,\n        custom_page_url: window.location.href,\n        sub_app_name: meta.subAppName || this.nullProp,\n        custom_page_title: title || this.nullProp\n      };\n      const versionInfo = this.getVersionInfo();\n      const commonAttr = {\n        ...data,\n        ...versionInfo,\n        ...webRouterMeta,\n        ...sourceObject,\n        ...this.customPageviewOpenParam\n      };\n      this.setCacheVisitUrl(router.path);\n      window.collectEvent(\"custom_pageview_open\", commonAttr);\n      const pageViewParam = {\n        ...commonAttr,\n        custom_page_duration: 0\n      };\n      window.collectEvent(\"custom_pageview\", pageViewParam);\n      this.customPageviewOpenParam = null;\n      this.isCustomPageviewOpen = false;\n    } catch (e) {}\n  }\n  afterReportEvent(reportEventName, reportEventParam) {\n    try {\n      const router = this.getCurrentRouterInfo();\n      const meta = router.meta || {};\n      const webRouterMetaKeys = Object.keys(meta);\n      let webRouterMeta = {};\n      webRouterMetaKeys.forEach(item => {\n        let volcengineFinalKey = item.replace(/[A-Z]/g, key => `_${key.toLowerCase()}`);\n        webRouterMeta[volcengineFinalKey] = meta[item];\n      });\n      const title = meta.pageName || document.title;\n      const data = {\n        custom_page_url_path: router.path,\n        custom_page_url: window.location.href,\n        sub_app_name: meta.subAppName || this.nullProp,\n        custom_page_title: title || this.nullProp\n      };\n      const versionInfo = this.getVersionInfo();\n      const path = window.location.href;\n      const sourceObject = this.getFromQueryNameContent(path);\n      const commonAttr = {\n        ...data,\n        ...reportEventParam,\n        ...versionInfo,\n        ...webRouterMeta,\n        ...sourceObject\n      };\n      window.collectEvent(reportEventName, commonAttr);\n    } catch (e) {}\n  }\n  // 设置用户Id\n  setUserUniqueId(paramUserUniqueId) {\n    const userUniqueId = paramUserUniqueId || this.nullProp;\n    try {\n      window.collectEvent(\"config\", {\n        user_unique_id: userUniqueId\n      });\n    } catch (e) {}\n  }\n  // 接口请求上报\n  collectApi(param) {\n    try {\n      const routeInfo = this.getCurrentRouterInfo();\n      let currentUrl = this.routerObject ? routeInfo.path : this.pages[0];\n      if (!currentUrl) {\n        currentUrl = this.getNowPath(this.routerInfo);\n      }\n      let commonAttr = this.getCommonAttr(currentUrl);\n      if (this.routerObject) {\n        let webRouterMeta = {};\n        const meta = routeInfo.meta || {};\n        const title = meta.pageName || document.title;\n        const routeInfoAttr = {\n          custom_page_url_path: routeInfo.path,\n          custom_page_url: window.location.href,\n          sub_app_name: meta.subAppName || this.nullProp,\n          custom_page_title: title || this.nullProp\n        };\n        const versionInfo = this.getVersionInfo();\n        const webRouterMetaKeys = Object.keys(meta);\n        webRouterMetaKeys.forEach(item => {\n          let volcengineFinalKey = item.replace(/[A-Z]/g, key => `_${key.toLowerCase()}`);\n          webRouterMeta[volcengineFinalKey] = meta[item];\n        });\n        const path = window.location.href;\n        const sourceObject = this.getFromQueryNameContent(path);\n        commonAttr = {\n          ...commonAttr,\n          ...routeInfoAttr,\n          ...versionInfo,\n          ...webRouterMeta,\n          ...sourceObject\n        };\n      }\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title;\n        commonAttr[\"custom_page_title\"] = htmlTitle;\n      }\n      let apiRequestParam = {\n        api_name: param.apiName,\n        is_success: param.isSuccess,\n        api_time_cost: param.apiTimeCost\n      };\n      let finalParam = {\n        ...commonAttr,\n        ...apiRequestParam\n      };\n      if (!finalParam[\"custom_page_url\"]) {\n        finalParam[\"custom_page_url\"] = window.location.href;\n      }\n      delete param.apiName;\n      delete param.isSuccess;\n      delete param.apiTimeCost;\n      finalParam = {\n        ...finalParam,\n        ...param\n      };\n      window.collectEvent(\"api_request\", finalParam);\n    } catch (e) {}\n  }\n  reportEvent(name, param) {\n    if (this.routerObject) {\n      this.afterReportEvent(name, param);\n      return;\n    }\n    const pages = this.getCurrentPagesArr();\n    this.changeCurrentPage(pages);\n    let currentUrl = this.pages[0];\n    if (!currentUrl) {\n      currentUrl = this.getNowPath(this.routerInfo);\n    }\n    let commonAttr = this.getCommonAttr(currentUrl);\n    if (!commonAttr[\"custom_page_title\"]) {\n      const htmlTitle = document.title;\n      commonAttr[\"custom_page_title\"] = htmlTitle;\n    }\n    let finalParam = {\n      ...commonAttr,\n      ...param\n    };\n    if (!finalParam[\"custom_page_url\"]) {\n      finalParam[\"custom_page_url\"] = window.location.href;\n    }\n    try {\n      window.collectEvent(name, finalParam);\n    } catch (e) {}\n  }\n  profileSet(profileParam) {\n    try {\n      window.collectEvent(\"profileSet\", profileParam);\n    } catch (e) {}\n  }\n  getSdkVersion() {\n    try {\n      const versionInfo = this.getVersionInfo();\n      return {\n        user_analytics_sdk_version_name: versionInfo[\"analytics_sdk_version_name\"]\n      };\n    } catch (e) {\n      return {\n        user_analytics_sdk_version_name: \"\"\n      };\n    }\n  }\n  getAppVersion() {\n    try {\n      const versionInfo = this.getVersionInfo();\n      return {\n        user_custom_app_version_name: versionInfo[\"custom_app_version_name\"]\n      };\n    } catch (e) {\n      return {\n        user_custom_app_version_name: \"\"\n      };\n    }\n  }\n  sdkVersionProfileSet(param) {\n    try {\n      const sdkVersion = this.getSdkVersion();\n      const finalParam = {\n        ...param,\n        ...sdkVersion\n      };\n      this.profileSet(finalParam);\n    } catch (e) {}\n  }\n  appVersionProfileSet(param) {\n    try {\n      const appVersion = this.getAppVersion();\n      const finalParam = {\n        ...param,\n        ...appVersion\n      };\n      this.profileSet(finalParam);\n    } catch (e) {}\n  }\n  handelRouterObject(routerObject) {\n    try {\n      const route = routerObject.path;\n      const meta = routerObject.meta;\n      const path = route.substring(1, route.length);\n      this.routerInfo = [{\n        path,\n        meta\n      }];\n      this.changeCurrentPage([route]);\n    } catch (e) {}\n  }\n}","map":{"version":3,"names":["$router","Volcengine","WebVolcengine","constructor","params","type","routerObject","isCustomPageviewOpen","customPageviewOpenParam","afterEachRouter","routerInfo","UNI_ROUTES","pages","tarBar","list","getCurrentPagesArr","changeCurrentPage","e","currentRouterObject","history","current","handelRouterObject","start","init","listenRouter","param","h5Router","afterEach","to","afterGetWebPath","path","meta","query","setCurrentRouterInfo","reportPageView","isEmptyObject","Object","prototype","toString","call","onchange","n","lastVisitUrl","getCacheVisitUrl","nowPath","fullPath","setCacheVisitUrl","lastPageVisitTime","getCacheTime","nowTime","Date","getTime","setCacheTime","volcengineProps","updateRouter","commonAttr","getCommonAttr","durationParam","custom_page_duration","window","location","href","htmlTitle","document","title","versionInfo","getVersionInfo","webRouterMeta","webRouterMetaKeys","keys","forEach","item","volcengineFinalKey","replace","key","toLowerCase","sourceObject","getFromQueryNameContent","finalParam","collectEvent","customPageviewOpen","currentUrl","length","routerArr","nowFullPath","indexOf","console","log","router","pageName","data","custom_page_url_path","custom_page_url","sub_app_name","subAppName","nullProp","custom_page_title","pageViewParam","afterReportEvent","reportEventName","reportEventParam","getCurrentRouterInfo","setUserUniqueId","paramUserUniqueId","userUniqueId","user_unique_id","collectApi","routeInfo","getNowPath","routeInfoAttr","apiRequestParam","api_name","apiName","is_success","isSuccess","api_time_cost","apiTimeCost","reportEvent","name","profileSet","profileParam","getSdkVersion","user_analytics_sdk_version_name","getAppVersion","user_custom_app_version_name","sdkVersionProfileSet","sdkVersion","appVersionProfileSet","appVersion","route","substring"],"sources":["/Users/myproject/vuedemo/node_modules/@cndinfo/cube-web-utils/node_modules/@cndinfo/cube-analytics-sdk/web/index.js"],"sourcesContent":["import $router from \"../common/uni-router\"\nimport { Volcengine } from \"../common\"\nexport default class WebVolcengine extends Volcengine {\n  constructor(params) {\n    if (!params) {\n      params = {}\n    }\n    params.type = 1 // 表示是web 端的SDK\n    super(params)\n    this.routerObject = null\n    // web的vue-router 对象，默认为空\n    this.isCustomPageviewOpen = false\n    this.customPageviewOpenParam = null\n    this.afterEachRouter = null\n    try {\n      this.routerInfo = UNI_ROUTES.pages\n      this.tarBar = UNI_ROUTES.tarBar ? UNI_ROUTES.tarBar.list : []\n      const pages = this.getCurrentPagesArr()\n      this.changeCurrentPage(pages)\n      // 当H5在PC浏览器运行的时候执行\n    } catch (e) {\n      this.routerInfo = []\n      this.tarBar = []\n      if (params.routerObject) {\n        const routerObject = params.routerObject\n        const currentRouterObject = routerObject.history.current\n        this.handelRouterObject(currentRouterObject)\n        this.routerObject = routerObject\n      }\n      // pc执行\n    }\n  }\n  start() {\n    this.init(this.routerInfo, this.tarBar)\n  }\n  // 监听路由的变化 - 只针对H5\n  listenRouter(param) {\n    let h5Router = null\n    try {\n      h5Router = UNI_ROUTES\n    } catch (e) {}\n    if (!h5Router) {\n      // PC端\n      // 注册全局后置钩子\n      if (!this.routerObject) {\n        return\n      }\n      this.routerObject.afterEach((to) => {\n        if (this.isCustomPageviewOpen) {\n          this.afterGetWebPath(to)\n        }\n        const routerInfo = {\n          path: to.path,\n          meta: to.meta,\n          query: to.query,\n          params: to.params\n        }\n        this.setCurrentRouterInfo(routerInfo)\n        this.reportPageView(param, to)\n      })\n    } else {\n      const isEmptyObject =\n        !param || Object.prototype.toString.call(param) !== \"[object Object]\"\n      if (isEmptyObject) {\n        param = {}\n      }\n      $router.onchange = (n) => {\n        this.reportPageView(param, n)\n      }\n    }\n  }\n  reportPageView(param, n) {\n    try {\n      const lastVisitUrl = this.getCacheVisitUrl()\n      let nowPath = n.fullPath\n      if (this.routerObject) {\n        nowPath = n.path\n      }\n      if (lastVisitUrl === nowPath) {\n        return\n      }\n      this.setCacheVisitUrl(nowPath)\n      const lastPageVisitTime = this.getCacheTime()\n      const nowTime = new Date().getTime()\n      this.setCacheTime(nowTime)\n\n      if (!this.volcengineProps[nowPath]) {\n        this.updateRouter(this.routerInfo, this.tarBar)\n      }\n      let commonAttr = this.getCommonAttr(nowPath)\n      const durationParam = {\n        custom_page_duration: nowTime - lastPageVisitTime\n      }\n      commonAttr[\"custom_page_url\"] = window.location.href\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title\n        commonAttr[\"custom_page_title\"] = htmlTitle\n      }\n      if (!commonAttr[\"custom_page_url_path\"]) {\n        commonAttr[\"custom_page_url_path\"] = nowPath\n      }\n      const versionInfo = this.getVersionInfo()\n      let webRouterMeta = {}\n      if (this.routerObject) {\n        const webRouterMetaKeys = Object.keys(n.meta)\n        webRouterMetaKeys.forEach((item) => {\n          let volcengineFinalKey = item.replace(\n            /[A-Z]/g,\n            (key) => `_${key.toLowerCase()}`\n          )\n          webRouterMeta[volcengineFinalKey] = n.meta[item]\n        })\n      }\n      const path = window.location.href\n      const sourceObject = this.getFromQueryNameContent(path)\n      const finalParam = {\n        ...commonAttr,\n        ...durationParam,\n        ...param,\n        ...versionInfo,\n        ...sourceObject,\n        ...webRouterMeta\n      }\n      window.collectEvent(\"custom_pageview\", finalParam)\n    } catch (e) {\n      // console.log(e)\n    }\n  }\n  // 监听初始进入页面\n  customPageviewOpen(param) {\n    if (this.routerObject) {\n      this.customPageviewOpenParam = param\n      this.isCustomPageviewOpen = true\n      return\n    }\n    if (!param || Object.prototype.toString.call(param) !== \"[object Object]\") {\n      param = {}\n    }\n    try {\n      let currentUrl\n      const pages = this.getCurrentPagesArr()\n      this.changeCurrentPage(pages)\n      if (this.pages.length > 0) {\n        currentUrl = this.pages[0]\n      } else {\n        //  如果currentPage 为空数组，那就去循环路由数组，是否部分路由是包含于完整路由的\n        const routerArr = this.routerInfo\n        const nowFullPath = window.location.href\n        routerArr.forEach((item) => {\n          if (nowFullPath.indexOf(item.path) > -1) {\n            currentUrl = \"/\" + item.path\n          }\n        })\n      }\n      // 如果没有任何匹配的，那就是首页\n      if (!currentUrl) {\n        currentUrl = \"/\" + this.routerInfo[0].path\n      }\n\n      this.setCacheVisitUrl(currentUrl)\n      if (!this.volcengineProps[currentUrl]) {\n        this.updateRouter(this.routerInfo, this.tarBar)\n      }\n      let commonAttr = this.getCommonAttr(currentUrl)\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title\n        commonAttr[\"custom_page_title\"] = htmlTitle\n      }\n      commonAttr[\"custom_page_url\"] = window.location.href\n      if (param) {\n        commonAttr = {\n          ...commonAttr,\n          ...param\n        }\n      }\n      window.collectEvent(\"custom_pageview_open\", commonAttr)\n      commonAttr.custom_page_duration = 0 // 先默认写死0\n      window.collectEvent(\"custom_pageview\", commonAttr)\n    } catch (e) {\n      console.log(\"open error\", e)\n    }\n  }\n\n  afterGetWebPath(router) {\n    try {\n      const meta = router.meta || {}\n      const webRouterMetaKeys = Object.keys(meta)\n      let webRouterMeta = {}\n      webRouterMetaKeys.forEach((item) => {\n        let volcengineFinalKey = item.replace(\n          /[A-Z]/g,\n          (key) => `_${key.toLowerCase()}`\n        )\n        webRouterMeta[volcengineFinalKey] = meta[item]\n      })\n      const path = window.location.href\n      const sourceObject = this.getFromQueryNameContent(path)\n\n      const title = meta.pageName || document.title\n      const data = {\n        custom_page_url_path: router.path,\n        custom_page_url: window.location.href,\n        sub_app_name: meta.subAppName || this.nullProp,\n        custom_page_title: title || this.nullProp\n      }\n      const versionInfo = this.getVersionInfo()\n\n      const commonAttr = {\n        ...data,\n        ...versionInfo,\n        ...webRouterMeta,\n        ...sourceObject,\n        ...this.customPageviewOpenParam\n      }\n      this.setCacheVisitUrl(router.path)\n      window.collectEvent(\"custom_pageview_open\", commonAttr)\n      const pageViewParam = {\n        ...commonAttr,\n        custom_page_duration: 0\n      }\n      window.collectEvent(\"custom_pageview\", pageViewParam)\n      this.customPageviewOpenParam = null\n      this.isCustomPageviewOpen = false\n    } catch (e) {}\n  }\n\n  afterReportEvent(reportEventName, reportEventParam) {\n    try {\n      const router = this.getCurrentRouterInfo()\n      const meta = router.meta || {}\n      const webRouterMetaKeys = Object.keys(meta)\n      let webRouterMeta = {}\n      webRouterMetaKeys.forEach((item) => {\n        let volcengineFinalKey = item.replace(\n          /[A-Z]/g,\n          (key) => `_${key.toLowerCase()}`\n        )\n        webRouterMeta[volcengineFinalKey] = meta[item]\n      })\n      const title = meta.pageName || document.title\n      const data = {\n        custom_page_url_path: router.path,\n        custom_page_url: window.location.href,\n        sub_app_name: meta.subAppName || this.nullProp,\n        custom_page_title: title || this.nullProp\n      }\n      const versionInfo = this.getVersionInfo()\n      const path = window.location.href\n      const sourceObject = this.getFromQueryNameContent(path)\n\n      const commonAttr = {\n        ...data,\n        ...reportEventParam,\n        ...versionInfo,\n        ...webRouterMeta,\n        ...sourceObject\n      }\n      window.collectEvent(reportEventName, commonAttr)\n    } catch (e) {}\n  }\n  // 设置用户Id\n  setUserUniqueId(paramUserUniqueId) {\n    const userUniqueId = paramUserUniqueId || this.nullProp\n    try {\n      window.collectEvent(\"config\", {\n        user_unique_id: userUniqueId\n      })\n    } catch (e) {}\n  }\n  // 接口请求上报\n  collectApi(param) {\n    try {\n      const routeInfo = this.getCurrentRouterInfo()\n      let currentUrl = this.routerObject ? routeInfo.path : this.pages[0]\n      if (!currentUrl) {\n        currentUrl = this.getNowPath(this.routerInfo)\n      }\n      let commonAttr = this.getCommonAttr(currentUrl)\n\n      if (this.routerObject) {\n        let webRouterMeta = {}\n        const meta = routeInfo.meta || {}\n        const title = meta.pageName || document.title\n        const routeInfoAttr = {\n          custom_page_url_path: routeInfo.path,\n          custom_page_url: window.location.href,\n          sub_app_name: meta.subAppName || this.nullProp,\n          custom_page_title: title || this.nullProp\n        }\n        const versionInfo = this.getVersionInfo()\n        const webRouterMetaKeys = Object.keys(meta)\n        webRouterMetaKeys.forEach((item) => {\n          let volcengineFinalKey = item.replace(\n            /[A-Z]/g,\n            (key) => `_${key.toLowerCase()}`\n          )\n          webRouterMeta[volcengineFinalKey] = meta[item]\n        })\n        const path = window.location.href\n        const sourceObject = this.getFromQueryNameContent(path)\n        commonAttr = {\n          ...commonAttr,\n          ...routeInfoAttr,\n          ...versionInfo,\n          ...webRouterMeta,\n          ...sourceObject\n        }\n      }\n      if (!commonAttr[\"custom_page_title\"]) {\n        const htmlTitle = document.title\n        commonAttr[\"custom_page_title\"] = htmlTitle\n      }\n      let apiRequestParam = {\n        api_name: param.apiName,\n        is_success: param.isSuccess,\n        api_time_cost: param.apiTimeCost\n      }\n      let finalParam = {\n        ...commonAttr,\n        ...apiRequestParam\n      }\n      if (!finalParam[\"custom_page_url\"]) {\n        finalParam[\"custom_page_url\"] = window.location.href\n      }\n      delete param.apiName\n      delete param.isSuccess\n      delete param.apiTimeCost\n\n      finalParam = {\n        ...finalParam,\n        ...param\n      }\n      window.collectEvent(\"api_request\", finalParam)\n    } catch (e) {}\n  }\n  reportEvent(name, param) {\n    if (this.routerObject) {\n      this.afterReportEvent(name, param)\n      return\n    }\n    const pages = this.getCurrentPagesArr()\n    this.changeCurrentPage(pages)\n    let currentUrl = this.pages[0]\n    if (!currentUrl) {\n      currentUrl = this.getNowPath(this.routerInfo)\n    }\n    let commonAttr = this.getCommonAttr(currentUrl)\n    if (!commonAttr[\"custom_page_title\"]) {\n      const htmlTitle = document.title\n      commonAttr[\"custom_page_title\"] = htmlTitle\n    }\n    let finalParam = {\n      ...commonAttr,\n      ...param\n    }\n    if (!finalParam[\"custom_page_url\"]) {\n      finalParam[\"custom_page_url\"] = window.location.href\n    }\n    try {\n      window.collectEvent(name, finalParam)\n    } catch (e) {}\n  }\n  profileSet(profileParam) {\n    try {\n      window.collectEvent(\"profileSet\", profileParam)\n    } catch (e) {}\n  }\n\n  getSdkVersion() {\n    try {\n      const versionInfo = this.getVersionInfo()\n      return {\n        user_analytics_sdk_version_name:\n          versionInfo[\"analytics_sdk_version_name\"]\n      }\n    } catch (e) {\n      return {\n        user_analytics_sdk_version_name: \"\"\n      }\n    }\n  }\n\n  getAppVersion() {\n    try {\n      const versionInfo = this.getVersionInfo()\n      return {\n        user_custom_app_version_name: versionInfo[\"custom_app_version_name\"]\n      }\n    } catch (e) {\n      return {\n        user_custom_app_version_name: \"\"\n      }\n    }\n  }\n  sdkVersionProfileSet(param) {\n    try {\n      const sdkVersion = this.getSdkVersion()\n      const finalParam = {\n        ...param,\n        ...sdkVersion\n      }\n      this.profileSet(finalParam)\n    } catch (e) {}\n  }\n\n  appVersionProfileSet(param) {\n    try {\n      const appVersion = this.getAppVersion()\n      const finalParam = {\n        ...param,\n        ...appVersion\n      }\n      this.profileSet(finalParam)\n    } catch (e) {}\n  }\n\n  handelRouterObject(routerObject) {\n    try {\n      const route = routerObject.path\n      const meta = routerObject.meta\n      const path = route.substring(1, route.length)\n      this.routerInfo = [\n        {\n          path,\n          meta\n        }\n      ]\n      this.changeCurrentPage([route])\n    } catch (e) {}\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}