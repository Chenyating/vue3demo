{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { cubeCacheStore } from './store/index.js';\nexport default {\n  data() {\n    return {\n      editableTabsValue: '2',\n      editableTabs: [{\n        title: 'Tab 1',\n        name: '1',\n        content: 'Tab 1 content'\n      }, {\n        title: 'Tab 2',\n        name: '2',\n        content: 'Tab 2 content'\n      }],\n      cacheKeyArray: [],\n      tabIndex: 2\n    };\n  },\n  methods: {\n    handleTabsEdit(targetName, action) {\n      if (action === 'add') {\n        let newTabName = ++this.tabIndex + '';\n        this.editableTabs.push({\n          title: 'New Tab',\n          name: newTabName,\n          content: 'New Tab content'\n        });\n        this.editableTabsValue = newTabName;\n      }\n      if (action === 'remove') {\n        let tabs = this.editableTabs;\n        let activeName = this.editableTabsValue;\n        if (activeName === targetName) {\n          tabs.forEach((tab, index) => {\n            if (tab.name === targetName) {\n              let nextTab = tabs[index + 1] || tabs[index - 1];\n              if (nextTab) {\n                activeName = nextTab.name;\n              }\n            }\n          });\n        }\n        this.editableTabsValue = activeName;\n        this.editableTabs = tabs.filter(tab => tab.name !== targetName);\n      }\n    }\n  }\n};","map":{"version":3,"names":["cubeCacheStore","data","editableTabsValue","editableTabs","title","name","content","cacheKeyArray","tabIndex","methods","handleTabsEdit","targetName","action","newTabName","push","tabs","activeName","forEach","tab","index","nextTab","filter"],"sources":["src/App.vue"],"sourcesContent":["<!-- <template>\n  <div id=\"app\">\n    <el-tabs editable >\n      <el-tab-pane\n        v-for=\"cacheKey in cacheKeyArray\"\n        :key=\"cacheKey\"\n        :to=\"`/edit?cacheKey=${cacheKey}`\"\n        :label=\"cacheKey\"\n        name=\"edit\"\n      >\n        <router-view />\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport { cubeCacheStore } from './store/index.js'\nexport default {\n  data() {\n    return {\n      cubeCache: cubeCacheStore(),\n      cacheKeyArray: [],\n    }\n  },\n  methods: {\n    goEdit() {\n      var cacheKey = this.cubeCache.getCacheKey()\n      this.$router.push({ path: '/edit', query: { cacheKey: cacheKey } })\n      this.cacheKeyArray.push(cacheKey)\n    },\n  },\n}\n</script> -->\n<template>\n  <div id=\"app\">\n    <el-tabs\n      v-model=\"editableTabsValue\"\n      type=\"card\"\n      editable\n      @edit=\"handleTabsEdit\"\n    >\n      <el-tab-pane\n        :key=\"item.name\"\n        v-for=\"(item, index) in editableTabs\"\n        :label=\"item.title\"\n        :name=\"item.name\"\n      >\n        <router-view />\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n<script>\nimport { cubeCacheStore } from './store/index.js'\n\nexport default {\n  data() {\n    return {\n      editableTabsValue: '2',\n      editableTabs: [\n        {\n          title: 'Tab 1',\n          name: '1',\n          content: 'Tab 1 content',\n        },\n        {\n          title: 'Tab 2',\n          name: '2',\n          content: 'Tab 2 content',\n        },\n      ],\n      cacheKeyArray: [],\n      tabIndex: 2,\n    }\n  },\n  methods: {\n    handleTabsEdit(targetName, action) {\n      if (action === 'add') {\n        let newTabName = ++this.tabIndex + ''\n        this.editableTabs.push({\n          title: 'New Tab',\n          name: newTabName,\n          content: 'New Tab content',\n        })\n        this.editableTabsValue = newTabName\n      }\n      if (action === 'remove') {\n        let tabs = this.editableTabs\n        let activeName = this.editableTabsValue\n        if (activeName === targetName) {\n          tabs.forEach((tab, index) => {\n            if (tab.name === targetName) {\n              let nextTab = tabs[index + 1] || tabs[index - 1]\n              if (nextTab) {\n                activeName = nextTab.name\n              }\n            }\n          })\n        }\n\n        this.editableTabsValue = activeName\n        this.editableTabs = tabs.filter((tab) => tab.name !== targetName)\n      }\n    },\n  },\n}\n</script>\n"],"mappings":";AAsDA,SAAAA,cAAA;AAEA;EACAC,KAAA;IACA;MACAC,iBAAA;MACAC,YAAA,GACA;QACAC,KAAA;QACAC,IAAA;QACAC,OAAA;MACA,GACA;QACAF,KAAA;QACAC,IAAA;QACAC,OAAA;MACA,EACA;MACAC,aAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAAC,UAAA,EAAAC,MAAA;MACA,IAAAA,MAAA;QACA,IAAAC,UAAA,UAAAL,QAAA;QACA,KAAAL,YAAA,CAAAW,IAAA;UACAV,KAAA;UACAC,IAAA,EAAAQ,UAAA;UACAP,OAAA;QACA;QACA,KAAAJ,iBAAA,GAAAW,UAAA;MACA;MACA,IAAAD,MAAA;QACA,IAAAG,IAAA,QAAAZ,YAAA;QACA,IAAAa,UAAA,QAAAd,iBAAA;QACA,IAAAc,UAAA,KAAAL,UAAA;UACAI,IAAA,CAAAE,OAAA,EAAAC,GAAA,EAAAC,KAAA;YACA,IAAAD,GAAA,CAAAb,IAAA,KAAAM,UAAA;cACA,IAAAS,OAAA,GAAAL,IAAA,CAAAI,KAAA,SAAAJ,IAAA,CAAAI,KAAA;cACA,IAAAC,OAAA;gBACAJ,UAAA,GAAAI,OAAA,CAAAf,IAAA;cACA;YACA;UACA;QACA;QAEA,KAAAH,iBAAA,GAAAc,UAAA;QACA,KAAAb,YAAA,GAAAY,IAAA,CAAAM,MAAA,CAAAH,GAAA,IAAAA,GAAA,CAAAb,IAAA,KAAAM,UAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}