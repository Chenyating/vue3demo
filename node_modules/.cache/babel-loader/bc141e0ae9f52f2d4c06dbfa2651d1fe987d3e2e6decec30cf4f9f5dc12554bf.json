{"ast":null,"code":"import defaultLang from 'element-ui/src/locale/lang/zh-CN';\nimport Vue from 'vue';\nimport deepmerge from 'deepmerge';\nimport Format from './format';\nconst format = Format(Vue);\nlet lang = defaultLang;\nlet merged = false;\nlet i18nHandler = function () {\n  const vuei18n = Object.getPrototypeOf(this || Vue).$t;\n  if (typeof vuei18n === 'function' && !!Vue.locale) {\n    if (!merged) {\n      merged = true;\n      Vue.locale(Vue.config.lang, deepmerge(lang, Vue.locale(Vue.config.lang) || {}, {\n        clone: true\n      }));\n    }\n    return vuei18n.apply(this, arguments);\n  }\n};\nexport const t = function (path, options) {\n  let value = i18nHandler.apply(this, arguments);\n  if (value !== null && value !== undefined) return value;\n  const array = path.split('.');\n  let current = lang;\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i];\n    value = current[property];\n    if (i === j - 1) return format(value, options);\n    if (!value) return '';\n    current = value;\n  }\n  return '';\n};\nexport const use = function (l) {\n  lang = l || lang;\n};\nexport const i18n = function (fn) {\n  i18nHandler = fn || i18nHandler;\n};\nexport default {\n  use,\n  t,\n  i18n\n};","map":{"version":3,"names":["defaultLang","Vue","deepmerge","Format","format","lang","merged","i18nHandler","vuei18n","Object","getPrototypeOf","$t","locale","config","clone","apply","arguments","t","path","options","value","undefined","array","split","current","i","j","length","property","use","l","i18n","fn"],"sources":["/Users/myproject/vuedemo/node_modules/element-ui/src/locale/index.js"],"sourcesContent":["import defaultLang from 'element-ui/src/locale/lang/zh-CN';\nimport Vue from 'vue';\nimport deepmerge from 'deepmerge';\nimport Format from './format';\n\nconst format = Format(Vue);\nlet lang = defaultLang;\nlet merged = false;\nlet i18nHandler = function() {\n  const vuei18n = Object.getPrototypeOf(this || Vue).$t;\n  if (typeof vuei18n === 'function' && !!Vue.locale) {\n    if (!merged) {\n      merged = true;\n      Vue.locale(\n        Vue.config.lang,\n        deepmerge(lang, Vue.locale(Vue.config.lang) || {}, { clone: true })\n      );\n    }\n    return vuei18n.apply(this, arguments);\n  }\n};\n\nexport const t = function(path, options) {\n  let value = i18nHandler.apply(this, arguments);\n  if (value !== null && value !== undefined) return value;\n\n  const array = path.split('.');\n  let current = lang;\n\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i];\n    value = current[property];\n    if (i === j - 1) return format(value, options);\n    if (!value) return '';\n    current = value;\n  }\n  return '';\n};\n\nexport const use = function(l) {\n  lang = l || lang;\n};\n\nexport const i18n = function(fn) {\n  i18nHandler = fn || i18nHandler;\n};\n\nexport default { use, t, i18n };\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,kCAAkC;AAC1D,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,MAAM,GAAGD,MAAM,CAACF,GAAG,CAAC;AAC1B,IAAII,IAAI,GAAGL,WAAW;AACtB,IAAIM,MAAM,GAAG,KAAK;AAClB,IAAIC,WAAW,GAAG,SAAAA,CAAA,EAAW;EAC3B,MAAMC,OAAO,GAAGC,MAAM,CAACC,cAAc,CAAC,IAAI,IAAIT,GAAG,CAAC,CAACU,EAAE;EACrD,IAAI,OAAOH,OAAO,KAAK,UAAU,IAAI,CAAC,CAACP,GAAG,CAACW,MAAM,EAAE;IACjD,IAAI,CAACN,MAAM,EAAE;MACXA,MAAM,GAAG,IAAI;MACbL,GAAG,CAACW,MAAM,CACRX,GAAG,CAACY,MAAM,CAACR,IAAI,EACfH,SAAS,CAACG,IAAI,EAAEJ,GAAG,CAACW,MAAM,CAACX,GAAG,CAACY,MAAM,CAACR,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;QAAES,KAAK,EAAE;MAAK,CAAC,CACpE,CAAC;IACH;IACA,OAAON,OAAO,CAACO,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;AACF,CAAC;AAED,OAAO,MAAMC,CAAC,GAAG,SAAAA,CAASC,IAAI,EAAEC,OAAO,EAAE;EACvC,IAAIC,KAAK,GAAGb,WAAW,CAACQ,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;EAC9C,IAAII,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKC,SAAS,EAAE,OAAOD,KAAK;EAEvD,MAAME,KAAK,GAAGJ,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC;EAC7B,IAAIC,OAAO,GAAGnB,IAAI;EAElB,KAAK,IAAIoB,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGJ,KAAK,CAACK,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC5C,MAAMG,QAAQ,GAAGN,KAAK,CAACG,CAAC,CAAC;IACzBL,KAAK,GAAGI,OAAO,CAACI,QAAQ,CAAC;IACzB,IAAIH,CAAC,KAAKC,CAAC,GAAG,CAAC,EAAE,OAAOtB,MAAM,CAACgB,KAAK,EAAED,OAAO,CAAC;IAC9C,IAAI,CAACC,KAAK,EAAE,OAAO,EAAE;IACrBI,OAAO,GAAGJ,KAAK;EACjB;EACA,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMS,GAAG,GAAG,SAAAA,CAASC,CAAC,EAAE;EAC7BzB,IAAI,GAAGyB,CAAC,IAAIzB,IAAI;AAClB,CAAC;AAED,OAAO,MAAM0B,IAAI,GAAG,SAAAA,CAASC,EAAE,EAAE;EAC/BzB,WAAW,GAAGyB,EAAE,IAAIzB,WAAW;AACjC,CAAC;AAED,eAAe;EAAEsB,GAAG;EAAEZ,CAAC;EAAEc;AAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}