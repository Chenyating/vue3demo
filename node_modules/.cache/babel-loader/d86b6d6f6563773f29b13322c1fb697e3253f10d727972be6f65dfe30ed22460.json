{"ast":null,"code":"export default {\n  name: 'Tag',\n  props: {\n    info: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    isHidden: {\n      // 是否隐藏\n      type: Boolean,\n      default: false\n    },\n    tagsCut: {\n      // 多余菜单 额外显示\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    isActive_() {\n      return this.info.fullPath === this.$route.fullPath;\n    },\n    linkClass_() {\n      return {\n        'nav-bar-tag': true,\n        'shrink': !this.tagsCut,\n        'no-tags-cut': !this.tagsCut\n      };\n    },\n    tagClass_() {\n      return {\n        'active': this.isActive_,\n        'tags-view-hidden': this.isHidden\n      };\n    },\n    title_() {\n      const {\n        query = {},\n        meta = {}\n      } = this.info;\n      if (query.name) {\n        return query.name;\n      } else if (this.$i18n.locale === 'EN') {\n        return meta.titleEn;\n      } else {\n        return meta.title;\n      }\n    },\n    navStyle_() {\n      if (this.info.meta.affix || this.isActive_ && !this.tagsCut) {\n        return {\n          'flex-shrink': '0 !important'\n        };\n      }\n      return {};\n    }\n  },\n  watch: {\n    isActive_() {\n      this.scrollToActive();\n    }\n  },\n  mounted() {\n    this.scrollToActive();\n  },\n  methods: {\n    scrollToActive() {\n      if (this.isActive_ && this.$el) {\n        this.$el.scrollIntoView({\n          block: 'center',\n          inline: 'center'\n        });\n      }\n    },\n    dragStart(e) {\n      this.$emit('dragStart', e);\n    },\n    allowDrop(e) {\n      e.preventDefault();\n    },\n    closeTags() {\n      this.$emit('closeTags', this.info);\n    },\n    openMenu(e) {\n      this.$emit('openMenu', e);\n    },\n    drop(e) {\n      this.allowDrop(e);\n      this.$emit('drop', e);\n    }\n  }\n};","map":{"version":3,"names":["name","props","info","type","Object","default","isHidden","Boolean","tagsCut","computed","isActive_","fullPath","$route","linkClass_","tagClass_","title_","query","meta","$i18n","locale","titleEn","title","navStyle_","affix","watch","scrollToActive","mounted","methods","$el","scrollIntoView","block","inline","dragStart","e","$emit","allowDrop","preventDefault","closeTags","openMenu","drop"],"sources":["node_modules/@cndinfo/cube-design-web/src/components/Navbar/src/components/TagsView/LinkTag.vue"],"sourcesContent":["<template>\n  <div :class=\"linkClass_\" :style=\"navStyle_\">\n    <router-link\n      class=\"tags-view-home\"\n      :class=\"tagClass_\"\n      :to=\"{ path: info.path, query: info.query, fullPath: info.fullPath }\"\n      @click.middle.native=\"closeTags\"\n      @contextmenu.prevent.native=\"openMenu\"\n    >\n      <div\n        @dragstart=\"dragStart\"\n        @dragover=\"allowDrop\"\n        @drop=\"drop\"\n      >\n        <el-popover\n          popper-class=\"tags-view-pop\"\n          visible-arrow=\"false\"\n          placement=\"bottom-start\"\n          trigger=\"hover\"\n          :draggable=\"true\"\n          :content=\"title_\"\n        >\n          <div slot=\"reference\" class=\"tags-view-item flexCB\" :class=\"info.meta.affix?'affix': ''\">\n            <div class=\"tags-view-item-text\">\n              {{ title_ }}\n            </div>\n            <cnd-icon\n              v-if=\"!info.meta.affix\"\n              :ref=\"isActive_ ? 'closeTag' : ''\"\n              class=\"close-icon\"\n              :data-tag=\"item\"\n              name=\"cnd-close-circle\"\n              @click.prevent.stop=\"closeTags\"\n            />\n          </div>\n        </el-popover>\n      </div>\n    </router-link>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Tag',\n  props: {\n    info: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    isHidden: { // 是否隐藏\n      type: Boolean,\n      default: false\n    },\n    tagsCut: { // 多余菜单 额外显示\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    isActive_() {\n      return this.info.fullPath === this.$route.fullPath\n    },\n    linkClass_() {\n      return {\n        'nav-bar-tag': true,\n        'shrink': !this.tagsCut,\n        'no-tags-cut': !this.tagsCut\n      }\n    },\n    tagClass_() {\n      return {\n        'active': this.isActive_,\n        'tags-view-hidden': this.isHidden\n      }\n    },\n    title_() {\n      const { query = {}, meta = {}} = this.info\n      if (query.name) {\n        return query.name\n      } else if (this.$i18n.locale === 'EN') {\n        return meta.titleEn\n      } else {\n        return meta.title\n      }\n    },\n    navStyle_() {\n      if (this.info.meta.affix || (this.isActive_ && !this.tagsCut)) {\n        return {\n          'flex-shrink': '0 !important'\n        }\n      }\n      return {}\n    }\n  },\n  watch: {\n    isActive_() {\n      this.scrollToActive()\n    }\n  },\n  mounted() {\n    this.scrollToActive()\n  },\n  methods: {\n    scrollToActive() {\n      if (this.isActive_ && this.$el) {\n        this.$el.scrollIntoView({\n          block: 'center',\n          inline: 'center'\n        })\n      }\n    },\n    dragStart(e) {\n      this.$emit('dragStart', e)\n    },\n    allowDrop(e) {\n      e.preventDefault()\n    },\n    closeTags() {\n      this.$emit('closeTags', this.info)\n    },\n    openMenu(e) {\n      this.$emit('openMenu', e)\n    },\n    drop(e) {\n      this.allowDrop(e)\n      this.$emit('drop', e)\n    }\n  }\n}\n</script>\n"],"mappings":"AA0CA;EACAA,IAAA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;QACA;MACA;IACA;IACAC,QAAA;MAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,OAAA;MAAA;MACAL,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;EACA;EACAI,QAAA;IACAC,UAAA;MACA,YAAAR,IAAA,CAAAS,QAAA,UAAAC,MAAA,CAAAD,QAAA;IACA;IACAE,WAAA;MACA;QACA;QACA,gBAAAL,OAAA;QACA,qBAAAA;MACA;IACA;IACAM,UAAA;MACA;QACA,eAAAJ,SAAA;QACA,yBAAAJ;MACA;IACA;IACAS,OAAA;MACA;QAAAC,KAAA;QAAAC,IAAA;MAAA,SAAAf,IAAA;MACA,IAAAc,KAAA,CAAAhB,IAAA;QACA,OAAAgB,KAAA,CAAAhB,IAAA;MACA,gBAAAkB,KAAA,CAAAC,MAAA;QACA,OAAAF,IAAA,CAAAG,OAAA;MACA;QACA,OAAAH,IAAA,CAAAI,KAAA;MACA;IACA;IACAC,UAAA;MACA,SAAApB,IAAA,CAAAe,IAAA,CAAAM,KAAA,SAAAb,SAAA,UAAAF,OAAA;QACA;UACA;QACA;MACA;MACA;IACA;EACA;EACAgB,KAAA;IACAd,UAAA;MACA,KAAAe,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAD,cAAA;EACA;EACAE,OAAA;IACAF,eAAA;MACA,SAAAf,SAAA,SAAAkB,GAAA;QACA,KAAAA,GAAA,CAAAC,cAAA;UACAC,KAAA;UACAC,MAAA;QACA;MACA;IACA;IACAC,UAAAC,CAAA;MACA,KAAAC,KAAA,cAAAD,CAAA;IACA;IACAE,UAAAF,CAAA;MACAA,CAAA,CAAAG,cAAA;IACA;IACAC,UAAA;MACA,KAAAH,KAAA,mBAAAhC,IAAA;IACA;IACAoC,SAAAL,CAAA;MACA,KAAAC,KAAA,aAAAD,CAAA;IACA;IACAM,KAAAN,CAAA;MACA,KAAAE,SAAA,CAAAF,CAAA;MACA,KAAAC,KAAA,SAAAD,CAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}