{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport path from 'path';\nimport analytics from '../../../utils/analytics';\nimport Item from './Item';\nimport AppLink from './Link';\nimport FixIOSBug from './FixiOSBug';\nexport default {\n  name: 'SidebarItem',\n  components: {\n    AppLink,\n    Item\n  },\n  // Item\n  mixins: [FixIOSBug],\n  props: {\n    isCollapse: {\n      type: Boolean,\n      default: false\n    },\n    item: {\n      type: Object,\n      required: true\n    },\n    isNest: {\n      type: Boolean,\n      default: false\n    },\n    basePath: {\n      type: String,\n      default: ''\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    linkProps: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    isExternal(path) {\n      return /^(https?:|mailto:|tel:)/.test(path);\n    },\n    resolvePath(routePath) {\n      if (this.isExternal(routePath)) {\n        const urlParams = new URL(routePath);\n        Object.entries(this.linkProps).forEach(([k, v]) => {\n          if (urlParams.searchParams.has(k)) {\n            urlParams.searchParams.set(k, v);\n          } else {\n            urlParams.searchParams.append(k, v);\n          }\n        });\n        const url = urlParams.toString();\n        return url;\n      }\n      return path.resolve(this.basePath, routePath);\n    },\n    handleMenuItemClick() {\n      if (!this.item.children) {\n        const currentRoutePath = this.$route.path;\n        const path = this.resolvePath(this.item.path);\n        const isClickActiveMenu = currentRoutePath === this.item.path; // 处于激活的菜单再次点击不需要上报\n        if (isClickActiveMenu) {\n          return;\n        }\n        const title = this.$i18n.locale === 'EN' ? this.item.meta.titleEn : this.item.meta.title;\n        const analyticsInstance = analytics.getAnalyticsInstance(this);\n        analyticsInstance.reportEvent('sidebar_item_click', {\n          sidebar_item_title: title,\n          sidebar_item_target_url_path: path\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["path","analytics","Item","AppLink","FixIOSBug","name","components","mixins","props","isCollapse","type","Boolean","default","item","Object","required","isNest","basePath","String","level","Number","linkProps","data","methods","isExternal","test","resolvePath","routePath","urlParams","URL","entries","forEach","k","v","searchParams","has","set","append","url","toString","resolve","handleMenuItemClick","children","currentRoutePath","$route","isClickActiveMenu","title","$i18n","locale","meta","titleEn","analyticsInstance","getAnalyticsInstance","reportEvent","sidebar_item_title","sidebar_item_target_url_path"],"sources":["node_modules/@cndinfo/cube-design-web/src/components/Sidebar/src/SidebarItem.vue"],"sourcesContent":["<template>\n  <div class=\"menu-wrapper\" @click=\"handleMenuItemClick\">\n    <template v-if=\"!item.children\">\n      <app-link v-if=\"item.meta.title\" :to=\"resolvePath(item.path)\">\n        <el-menu-item\n          :index=\"item.meta.id\"\n          :class=\"{ 'submenu-title-noDropdown': !isNest }\"\n          :style=\"{\n            'padding-left': isCollapse ? 16 + 'px' : 16 + 12 * level + 'px',\n          }\"\n        >\n          <item\n            is-last\n            :icon=\"item.meta.icon\"\n            :title=\"$i18n.locale === 'EN' ? item.meta.titleEn : item.meta.title\"\n            :level=\"level\"\n            :is-collapse=\"isCollapse\"\n          />\n        </el-menu-item>\n      </app-link>\n    </template>\n\n    <el-submenu\n      v-else\n      ref=\"subMenu\"\n      :class=\"`customize-submenu-${level}`\"\n      :index=\"item.meta.id\"\n      :popper-class=\"`popper-submenu-${level}`\"\n      popper-append-to-body\n    >\n      <template slot=\"title\">\n        <item\n          v-if=\"item.meta.title\"\n          :icon=\"item.meta.icon\"\n          :title=\"$i18n.locale === 'EN' ? item.meta.titleEn : item.meta.title\"\n          :level=\"level\"\n          :is-collapse=\"isCollapse\"\n        />\n      </template>\n      <sidebar-item\n        v-for=\"child in item.children\"\n        :key=\"child.id\"\n        is-nest\n        :item=\"child\"\n        :base-path=\"resolvePath(child.path)\"\n        :level=\"level + 1\"\n        :link-props=\"linkProps\"\n        class=\"nest-menu\"\n      />\n    </el-submenu>\n  </div>\n</template>\n\n<script>\nimport path from 'path'\nimport analytics from '../../../utils/analytics'\nimport Item from './Item'\nimport AppLink from './Link'\nimport FixIOSBug from './FixiOSBug'\n\nexport default {\n  name: 'SidebarItem',\n  components: { AppLink, Item }, // Item\n  mixins: [FixIOSBug],\n  props: {\n    isCollapse: {\n      type: Boolean,\n      default: false\n    },\n    item: {\n      type: Object,\n      required: true\n    },\n    isNest: {\n      type: Boolean,\n      default: false\n    },\n    basePath: {\n      type: String,\n      default: ''\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    linkProps: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  data() {\n    return {}\n  },\n  methods: {\n    isExternal(path) {\n      return /^(https?:|mailto:|tel:)/.test(path)\n    },\n    resolvePath(routePath) {\n      if (this.isExternal(routePath)) {\n        const urlParams = new URL(routePath)\n        Object.entries(this.linkProps).forEach(([k, v]) => {\n          if (urlParams.searchParams.has(k)) {\n            urlParams.searchParams.set(k, v)\n          } else {\n            urlParams.searchParams.append(k, v)\n          }\n        })\n        const url = urlParams.toString()\n        return url\n      }\n      return path.resolve(this.basePath, routePath)\n    },\n    handleMenuItemClick(){\n      if(!this.item.children) {\n        const currentRoutePath = this.$route.path\n        const path = this.resolvePath(this.item.path)\n        const isClickActiveMenu = currentRoutePath === this.item.path // 处于激活的菜单再次点击不需要上报\n        if(isClickActiveMenu) {\n          return\n        }\n        const title = this.$i18n.locale === 'EN' ? this.item.meta.titleEn : this.item.meta.title\n        const analyticsInstance = analytics.getAnalyticsInstance(this)\n        analyticsInstance.reportEvent('sidebar_item_click', {\n          sidebar_item_title: title,\n          sidebar_item_target_url_path: path\n        })\n      }\n    }\n  }\n}\n</script>\n"],"mappings":";;;AAsDA,OAAAA,IAAA;AACA,OAAAC,SAAA;AACA,OAAAC,IAAA;AACA,OAAAC,OAAA;AACA,OAAAC,SAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH,OAAA;IAAAD;EAAA;EAAA;EACAK,MAAA,GAAAH,SAAA;EACAI,KAAA;IACAC,UAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,QAAA;IACA;IACAC,MAAA;MACAN,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAK,QAAA;MACAP,IAAA,EAAAQ,MAAA;MACAN,OAAA;IACA;IACAO,KAAA;MACAT,IAAA,EAAAU,MAAA;MACAR,OAAA;IACA;IACAS,SAAA;MACAX,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAA,CAAA;QACA;MACA;IACA;EACA;EACAU,KAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAxB,IAAA;MACA,iCAAAyB,IAAA,CAAAzB,IAAA;IACA;IACA0B,YAAAC,SAAA;MACA,SAAAH,UAAA,CAAAG,SAAA;QACA,MAAAC,SAAA,OAAAC,GAAA,CAAAF,SAAA;QACAb,MAAA,CAAAgB,OAAA,MAAAT,SAAA,EAAAU,OAAA,GAAAC,CAAA,EAAAC,CAAA;UACA,IAAAL,SAAA,CAAAM,YAAA,CAAAC,GAAA,CAAAH,CAAA;YACAJ,SAAA,CAAAM,YAAA,CAAAE,GAAA,CAAAJ,CAAA,EAAAC,CAAA;UACA;YACAL,SAAA,CAAAM,YAAA,CAAAG,MAAA,CAAAL,CAAA,EAAAC,CAAA;UACA;QACA;QACA,MAAAK,GAAA,GAAAV,SAAA,CAAAW,QAAA;QACA,OAAAD,GAAA;MACA;MACA,OAAAtC,IAAA,CAAAwC,OAAA,MAAAvB,QAAA,EAAAU,SAAA;IACA;IACAc,oBAAA;MACA,UAAA5B,IAAA,CAAA6B,QAAA;QACA,MAAAC,gBAAA,QAAAC,MAAA,CAAA5C,IAAA;QACA,MAAAA,IAAA,QAAA0B,WAAA,MAAAb,IAAA,CAAAb,IAAA;QACA,MAAA6C,iBAAA,GAAAF,gBAAA,UAAA9B,IAAA,CAAAb,IAAA;QACA,IAAA6C,iBAAA;UACA;QACA;QACA,MAAAC,KAAA,QAAAC,KAAA,CAAAC,MAAA,iBAAAnC,IAAA,CAAAoC,IAAA,CAAAC,OAAA,QAAArC,IAAA,CAAAoC,IAAA,CAAAH,KAAA;QACA,MAAAK,iBAAA,GAAAlD,SAAA,CAAAmD,oBAAA;QACAD,iBAAA,CAAAE,WAAA;UACAC,kBAAA,EAAAR,KAAA;UACAS,4BAAA,EAAAvD;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}