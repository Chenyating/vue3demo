{"ast":null,"code":"export default {\n  computed: {\n    isSingle() {\n      const {\n        tableSelection\n      } = this.params.context;\n      return tableSelection === 'single';\n    },\n    isChecked() {\n      const {\n        dataKey = 'rowData'\n      } = this.params.context;\n      const rowData = this.params.context.componentParent[dataKey];\n      if (!rowData.length) {\n        return false;\n      }\n      const flag = rowData.every(item => {\n        return item._selected;\n      });\n      return flag;\n    },\n    indeterminate() {\n      const {\n        dataKey = 'rowData'\n      } = this.params.context;\n      const rowData = this.params.context.componentParent[dataKey];\n      return this.isChecked || !rowData.length ? false : rowData.some(item => item._selected);\n    }\n  },\n  methods: {\n    handleCheckAllChange(e) {\n      this.params.context.onHeaderDefSelect(e);\n      const {\n        apiKey = 'gridApi'\n      } = this.params.context;\n      const fatherapi = this.params.context.componentParent[apiKey];\n      fatherapi.forEachNode(node => {\n        if (!node.data.rowType && !node.data._selectedDisabled) {\n          if (node.displayed) {\n            node.data._selected = e;\n          }\n        }\n      });\n      fatherapi.refreshCells({\n        force: true\n      });\n    }\n  }\n};","map":{"version":3,"names":["computed","isSingle","tableSelection","params","context","isChecked","dataKey","rowData","componentParent","length","flag","every","item","_selected","indeterminate","some","methods","handleCheckAllChange","e","onHeaderDefSelect","apiKey","fatherapi","forEachNode","node","data","rowType","_selectedDisabled","displayed","refreshCells","force"],"sources":["node_modules/@cndinfo/cube-design-web/src/components/AgGridExtend/headerDefSelect.vue"],"sourcesContent":["<template>\n  <el-checkbox\n    v-if=\"!isSingle\"\n    :value=\"isChecked\"\n    :indeterminate=\"indeterminate\"\n    @change=\"handleCheckAllChange\"\n  />\n</template>\n\n<script>\nexport default {\n  computed: {\n    isSingle() {\n      const { tableSelection } = this.params.context\n      return tableSelection === 'single'\n    },\n    isChecked() {\n      const { dataKey = 'rowData' } = this.params.context\n      const rowData = this.params.context.componentParent[dataKey]\n      if (!rowData.length) { return false }\n      const flag = rowData.every(item => {\n        return item._selected\n      })\n      return flag\n    },\n    indeterminate() {\n      const { dataKey = 'rowData' } = this.params.context\n      const rowData = this.params.context.componentParent[dataKey]\n      return this.isChecked || !rowData.length ? false : rowData.some(item => item._selected)\n    }\n  },\n  methods: {\n    handleCheckAllChange(e) {\n      this.params.context.onHeaderDefSelect(e)\n      const { apiKey = 'gridApi' } = this.params.context\n      const fatherapi = this.params.context.componentParent[apiKey]\n      fatherapi.forEachNode((node) => {\n        if (!node.data.rowType && !node.data._selectedDisabled) {\n          if (node.displayed) {\n            node.data._selected = e\n          }\n        }\n      })\n      fatherapi.refreshCells({ force: true })\n    }\n  }\n}\n</script>\n"],"mappings":"AAUA;EACAA,QAAA;IACAC,SAAA;MACA;QAAAC;MAAA,SAAAC,MAAA,CAAAC,OAAA;MACA,OAAAF,cAAA;IACA;IACAG,UAAA;MACA;QAAAC,OAAA;MAAA,SAAAH,MAAA,CAAAC,OAAA;MACA,MAAAG,OAAA,QAAAJ,MAAA,CAAAC,OAAA,CAAAI,eAAA,CAAAF,OAAA;MACA,KAAAC,OAAA,CAAAE,MAAA;QAAA;MAAA;MACA,MAAAC,IAAA,GAAAH,OAAA,CAAAI,KAAA,CAAAC,IAAA;QACA,OAAAA,IAAA,CAAAC,SAAA;MACA;MACA,OAAAH,IAAA;IACA;IACAI,cAAA;MACA;QAAAR,OAAA;MAAA,SAAAH,MAAA,CAAAC,OAAA;MACA,MAAAG,OAAA,QAAAJ,MAAA,CAAAC,OAAA,CAAAI,eAAA,CAAAF,OAAA;MACA,YAAAD,SAAA,KAAAE,OAAA,CAAAE,MAAA,WAAAF,OAAA,CAAAQ,IAAA,CAAAH,IAAA,IAAAA,IAAA,CAAAC,SAAA;IACA;EACA;EACAG,OAAA;IACAC,qBAAAC,CAAA;MACA,KAAAf,MAAA,CAAAC,OAAA,CAAAe,iBAAA,CAAAD,CAAA;MACA;QAAAE,MAAA;MAAA,SAAAjB,MAAA,CAAAC,OAAA;MACA,MAAAiB,SAAA,QAAAlB,MAAA,CAAAC,OAAA,CAAAI,eAAA,CAAAY,MAAA;MACAC,SAAA,CAAAC,WAAA,CAAAC,IAAA;QACA,KAAAA,IAAA,CAAAC,IAAA,CAAAC,OAAA,KAAAF,IAAA,CAAAC,IAAA,CAAAE,iBAAA;UACA,IAAAH,IAAA,CAAAI,SAAA;YACAJ,IAAA,CAAAC,IAAA,CAAAX,SAAA,GAAAK,CAAA;UACA;QACA;MACA;MACAG,SAAA,CAAAO,YAAA;QAAAC,KAAA;MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}