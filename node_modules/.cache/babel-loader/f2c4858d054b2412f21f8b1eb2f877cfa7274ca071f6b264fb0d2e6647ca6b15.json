{"ast":null,"code":"import { on, off } from 'element-ui/src/utils/dom';\nimport { renderThumbStyle, BAR_MAP } from './util';\n\n/* istanbul ignore next */\nexport default {\n  name: 'Bar',\n  props: {\n    vertical: Boolean,\n    size: String,\n    move: Number\n  },\n  computed: {\n    bar() {\n      return BAR_MAP[this.vertical ? 'vertical' : 'horizontal'];\n    },\n    wrap() {\n      return this.$parent.wrap;\n    }\n  },\n  render(h) {\n    const {\n      size,\n      move,\n      bar\n    } = this;\n    return h(\"div\", {\n      \"class\": ['el-scrollbar__bar', 'is-' + bar.key],\n      \"on\": {\n        \"mousedown\": this.clickTrackHandler\n      }\n    }, [h(\"div\", {\n      \"ref\": \"thumb\",\n      \"class\": \"el-scrollbar__thumb\",\n      \"on\": {\n        \"mousedown\": this.clickThumbHandler\n      },\n      \"style\": renderThumbStyle({\n        size,\n        move,\n        bar\n      })\n    })]);\n  },\n  methods: {\n    clickThumbHandler(e) {\n      // prevent click event of right button\n      if (e.ctrlKey || e.button === 2) {\n        return;\n      }\n      this.startDrag(e);\n      this[this.bar.axis] = e.currentTarget[this.bar.offset] - (e[this.bar.client] - e.currentTarget.getBoundingClientRect()[this.bar.direction]);\n    },\n    clickTrackHandler(e) {\n      const offset = Math.abs(e.target.getBoundingClientRect()[this.bar.direction] - e[this.bar.client]);\n      const thumbHalf = this.$refs.thumb[this.bar.offset] / 2;\n      const thumbPositionPercentage = (offset - thumbHalf) * 100 / this.$el[this.bar.offset];\n      this.wrap[this.bar.scroll] = thumbPositionPercentage * this.wrap[this.bar.scrollSize] / 100;\n    },\n    startDrag(e) {\n      e.stopImmediatePropagation();\n      this.cursorDown = true;\n      on(document, 'mousemove', this.mouseMoveDocumentHandler);\n      on(document, 'mouseup', this.mouseUpDocumentHandler);\n      document.onselectstart = () => false;\n    },\n    mouseMoveDocumentHandler(e) {\n      if (this.cursorDown === false) return;\n      const prevPage = this[this.bar.axis];\n      if (!prevPage) return;\n      const offset = (this.$el.getBoundingClientRect()[this.bar.direction] - e[this.bar.client]) * -1;\n      const thumbClickPosition = this.$refs.thumb[this.bar.offset] - prevPage;\n      const thumbPositionPercentage = (offset - thumbClickPosition) * 100 / this.$el[this.bar.offset];\n      this.wrap[this.bar.scroll] = thumbPositionPercentage * this.wrap[this.bar.scrollSize] / 100;\n    },\n    mouseUpDocumentHandler(e) {\n      this.cursorDown = false;\n      this[this.bar.axis] = 0;\n      off(document, 'mousemove', this.mouseMoveDocumentHandler);\n      document.onselectstart = null;\n    }\n  },\n  destroyed() {\n    off(document, 'mouseup', this.mouseUpDocumentHandler);\n  }\n};","map":{"version":3,"names":["on","off","renderThumbStyle","BAR_MAP","name","props","vertical","Boolean","size","String","move","Number","computed","bar","wrap","$parent","render","h","key","clickTrackHandler","clickThumbHandler","methods","e","ctrlKey","button","startDrag","axis","currentTarget","offset","client","getBoundingClientRect","direction","Math","abs","target","thumbHalf","$refs","thumb","thumbPositionPercentage","$el","scroll","scrollSize","stopImmediatePropagation","cursorDown","document","mouseMoveDocumentHandler","mouseUpDocumentHandler","onselectstart","prevPage","thumbClickPosition","destroyed"],"sources":["/Users/myproject/vuedemo/node_modules/element-ui/packages/scrollbar/src/bar.js"],"sourcesContent":["import { on, off } from 'element-ui/src/utils/dom';\nimport { renderThumbStyle, BAR_MAP } from './util';\n\n/* istanbul ignore next */\nexport default {\n  name: 'Bar',\n\n  props: {\n    vertical: Boolean,\n    size: String,\n    move: Number\n  },\n\n  computed: {\n    bar() {\n      return BAR_MAP[this.vertical ? 'vertical' : 'horizontal'];\n    },\n\n    wrap() {\n      return this.$parent.wrap;\n    }\n  },\n\n  render(h) {\n    const { size, move, bar } = this;\n\n    return (\n      <div\n        class={ ['el-scrollbar__bar', 'is-' + bar.key] }\n        onMousedown={ this.clickTrackHandler } >\n        <div\n          ref=\"thumb\"\n          class=\"el-scrollbar__thumb\"\n          onMousedown={ this.clickThumbHandler }\n          style={ renderThumbStyle({ size, move, bar }) }>\n        </div>\n      </div>\n    );\n  },\n\n  methods: {\n    clickThumbHandler(e) {\n      // prevent click event of right button\n      if (e.ctrlKey || e.button === 2) {\n        return;\n      }\n      this.startDrag(e);\n      this[this.bar.axis] = (e.currentTarget[this.bar.offset] - (e[this.bar.client] - e.currentTarget.getBoundingClientRect()[this.bar.direction]));\n    },\n\n    clickTrackHandler(e) {\n      const offset = Math.abs(e.target.getBoundingClientRect()[this.bar.direction] - e[this.bar.client]);\n      const thumbHalf = (this.$refs.thumb[this.bar.offset] / 2);\n      const thumbPositionPercentage = ((offset - thumbHalf) * 100 / this.$el[this.bar.offset]);\n\n      this.wrap[this.bar.scroll] = (thumbPositionPercentage * this.wrap[this.bar.scrollSize] / 100);\n    },\n\n    startDrag(e) {\n      e.stopImmediatePropagation();\n      this.cursorDown = true;\n\n      on(document, 'mousemove', this.mouseMoveDocumentHandler);\n      on(document, 'mouseup', this.mouseUpDocumentHandler);\n      document.onselectstart = () => false;\n    },\n\n    mouseMoveDocumentHandler(e) {\n      if (this.cursorDown === false) return;\n      const prevPage = this[this.bar.axis];\n\n      if (!prevPage) return;\n\n      const offset = ((this.$el.getBoundingClientRect()[this.bar.direction] - e[this.bar.client]) * -1);\n      const thumbClickPosition = (this.$refs.thumb[this.bar.offset] - prevPage);\n      const thumbPositionPercentage = ((offset - thumbClickPosition) * 100 / this.$el[this.bar.offset]);\n\n      this.wrap[this.bar.scroll] = (thumbPositionPercentage * this.wrap[this.bar.scrollSize] / 100);\n    },\n\n    mouseUpDocumentHandler(e) {\n      this.cursorDown = false;\n      this[this.bar.axis] = 0;\n      off(document, 'mousemove', this.mouseMoveDocumentHandler);\n      document.onselectstart = null;\n    }\n  },\n\n  destroyed() {\n    off(document, 'mouseup', this.mouseUpDocumentHandler);\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}